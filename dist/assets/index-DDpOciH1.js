(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qm={exports:{}},js={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ah=Object.getOwnPropertySymbols,W1=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable;function G1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Q1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Wm=Q1()?Object.assign:function(t,e){for(var n,r=G1(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)W1.call(n,o)&&(r[o]=n[o]);if(ah){i=ah(n);for(var u=0;u<i.length;u++)K1.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},Km={exports:{}},ue={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=Wm,ui=60103,Gm=60106;ue.Fragment=60107;ue.StrictMode=60108;ue.Profiler=60114;var Qm=60109,Ym=60110,Xm=60112;ue.Suspense=60113;var Jm=60115,Zm=60116;if(typeof Symbol=="function"&&Symbol.for){var Pt=Symbol.for;ui=Pt("react.element"),Gm=Pt("react.portal"),ue.Fragment=Pt("react.fragment"),ue.StrictMode=Pt("react.strict_mode"),ue.Profiler=Pt("react.profiler"),Qm=Pt("react.provider"),Ym=Pt("react.context"),Xm=Pt("react.forward_ref"),ue.Suspense=Pt("react.suspense"),Jm=Pt("react.memo"),Zm=Pt("react.lazy")}var uh=typeof Symbol=="function"&&Symbol.iterator;function Y1(t){return t===null||typeof t!="object"?null:(t=uh&&t[uh]||t["@@iterator"],typeof t=="function"?t:null)}function zs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg={};function li(t,e,n){this.props=t,this.context=e,this.refs=tg,this.updater=n||eg}li.prototype.isReactComponent={};li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(zs(85));this.updater.enqueueSetState(this,t,e,"setState")};li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ng(){}ng.prototype=li.prototype;function cd(t,e,n){this.props=t,this.context=e,this.refs=tg,this.updater=n||eg}var dd=cd.prototype=new ng;dd.constructor=cd;ld(dd,li.prototype);dd.isPureReactComponent=!0;var fd={current:null},rg=Object.prototype.hasOwnProperty,ig={key:!0,ref:!0,__self:!0,__source:!0};function sg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rg.call(e,r)&&!ig.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ui,type:t,key:s,ref:o,props:i,_owner:fd.current}}function X1(t,e){return{$$typeof:ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ui}function J1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lh=/\/+/g;function Qu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J1(""+t.key):e.toString(36)}function $o(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ui:case Gm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qu(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(lh,"$&/")+"/"),$o(i,e,n,"",function(c){return c})):i!=null&&(hd(i)&&(i=X1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+Qu(s,u);o+=$o(s,e,n,l,i)}else if(l=Y1(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+Qu(s,u++),o+=$o(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(zs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function fo(t,e,n){if(t==null)return t;var r=[],i=0;return $o(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Z1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var og={current:null};function dn(){var t=og.current;if(t===null)throw Error(zs(321));return t}var ew={ReactCurrentDispatcher:og,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:fd,IsSomeRendererActing:{current:!1},assign:ld};ue.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!hd(t))throw Error(zs(143));return t}};ue.Component=li;ue.PureComponent=cd;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ew;ue.cloneElement=function(t,e,n){if(t==null)throw Error(zs(267,t));var r=ld({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)rg.call(e,l)&&!ig.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ui,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Ym,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Qm,_context:t},t.Consumer=t};ue.createElement=sg;ue.createFactory=function(t){var e=sg.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Xm,render:t}};ue.isValidElement=hd;ue.lazy=function(t){return{$$typeof:Zm,_payload:{_status:-1,_result:t},_init:Z1}};ue.memo=function(t,e){return{$$typeof:Jm,type:t,compare:e===void 0?null:e}};ue.useCallback=function(t,e){return dn().useCallback(t,e)};ue.useContext=function(t,e){return dn().useContext(t,e)};ue.useDebugValue=function(){};ue.useEffect=function(t,e){return dn().useEffect(t,e)};ue.useImperativeHandle=function(t,e,n){return dn().useImperativeHandle(t,e,n)};ue.useLayoutEffect=function(t,e){return dn().useLayoutEffect(t,e)};ue.useMemo=function(t,e){return dn().useMemo(t,e)};ue.useReducer=function(t,e,n){return dn().useReducer(t,e,n)};ue.useRef=function(t){return dn().useRef(t)};ue.useState=function(t){return dn().useState(t)};ue.version="17.0.2";Km.exports=ue;var It=Km.exports;const Wn=xs(It);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=It,ag=60103;js.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var ch=Symbol.for;ag=ch("react.element"),js.Fragment=ch("react.fragment")}var nw=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rw=Object.prototype.hasOwnProperty,iw={key:!0,ref:!0,__self:!0,__source:!0};function ug(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rw.call(e,r)&&!iw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ag,type:t,key:s,ref:o,props:i,_owner:nw.current}}js.jsx=ug;js.jsxs=ug;qm.exports=js;var Ne=qm.exports,lg={exports:{}},At={},cg={exports:{}},dg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var P=t.unstable_now();l(!0,P),l=null}catch(V){throw setTimeout(h,0),V}};e=function(P){l!==null?setTimeout(e,0,P):(l=P,setTimeout(h,0))},n=function(P,V){c=setTimeout(P,V)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,C=null,y=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<P?Math.floor(1e3/P):5};var b=new MessageChannel,a=b.port2;b.port1.onmessage=function(){if(C!==null){var P=t.unstable_now();g=P+m;try{C(!0,P)?a.postMessage(null):(A=!1,C=null)}catch(V){throw a.postMessage(null),V}}else A=!1},e=function(P){C=P,A||(A=!0,a.postMessage(null))},n=function(P,V){y=_(function(){P(t.unstable_now())},V)},r=function(){v(y),y=-1}}function f(P,V){var W=P.length;P.push(V);e:for(;;){var re=W-1>>>1,ie=P[re];if(ie!==void 0&&0<w(ie,V))P[re]=V,P[W]=ie,W=re;else break e}}function d(P){return P=P[0],P===void 0?null:P}function p(P){var V=P[0];if(V!==void 0){var W=P.pop();if(W!==V){P[0]=W;e:for(var re=0,ie=P.length;re<ie;){var he=2*(re+1)-1,we=P[he],z=he+1,R=P[z];if(we!==void 0&&0>w(we,W))R!==void 0&&0>w(R,we)?(P[re]=R,P[z]=W,re=z):(P[re]=we,P[he]=W,re=he);else if(R!==void 0&&0>w(R,W))P[re]=R,P[z]=W,re=z;else break e}}return V}return null}function w(P,V){var W=P.sortIndex-V.sortIndex;return W!==0?W:P.id-V.id}var S=[],E=[],I=1,L=null,D=3,M=!1,O=!1,k=!1;function N(P){for(var V=d(E);V!==null;){if(V.callback===null)p(E);else if(V.startTime<=P)p(E),V.sortIndex=V.expirationTime,f(S,V);else break;V=d(E)}}function B(P){if(k=!1,N(P),!O)if(d(S)!==null)O=!0,e(U);else{var V=d(E);V!==null&&n(B,V.startTime-P)}}function U(P,V){O=!1,k&&(k=!1,r()),M=!0;var W=D;try{for(N(V),L=d(S);L!==null&&(!(L.expirationTime>V)||P&&!t.unstable_shouldYield());){var re=L.callback;if(typeof re=="function"){L.callback=null,D=L.priorityLevel;var ie=re(L.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?L.callback=ie:L===d(S)&&p(S),N(V)}else p(S);L=d(S)}if(L!==null)var he=!0;else{var we=d(E);we!==null&&n(B,we.startTime-V),he=!1}return he}finally{L=null,D=W,M=!1}}var se=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){O||M||(O=!0,e(U))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return d(S)},t.unstable_next=function(P){switch(D){case 1:case 2:case 3:var V=3;break;default:V=D}var W=D;D=V;try{return P()}finally{D=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=se,t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=D;D=P;try{return V()}finally{D=W}},t.unstable_scheduleCallback=function(P,V,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,P={id:I++,callback:V,priorityLevel:P,startTime:W,expirationTime:ie,sortIndex:-1},W>re?(P.sortIndex=W,f(E,P),d(S)===null&&P===d(E)&&(k?r():k=!0,n(B,W-re))):(P.sortIndex=ie,f(S,P),O||M||(O=!0,e(U))),P},t.unstable_wrapCallback=function(P){var V=D;return function(){var W=D;D=V;try{return P.apply(this,arguments)}finally{D=W}}}})(dg);cg.exports=dg;var sw=cg.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=It,ye=Wm,ze=sw;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!za)throw Error(j(227));var fg=new Set,ls={};function gr(t,e){Qr(t,e),Qr(t+"Capture",e)}function Qr(t,e){for(ls[t]=e,t=0;t<e.length;t++)fg.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ow=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dh=Object.prototype.hasOwnProperty,fh={},hh={};function aw(t){return dh.call(hh,t)?!0:dh.call(fh,t)?!1:ow.test(t)?hh[t]=!0:(fh[t]=!0,!1)}function uw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lw(t,e,n,r){if(e===null||typeof e>"u"||uw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var pd=/[\-:]([a-z])/g;function md(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pd,md);qe[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pd,md);qe[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pd,md);qe[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function gd(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(lw(e,n,i,r)&&(n=null),r||i===null?aw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=60103,Kn=60106,pn=60107,vd=60108,qi=60114,yd=60109,wd=60110,Fa=60112,Wi=60113,Xo=60120,Ba=60115,_d=60116,Sd=60121,Ed=60128,hg=60129,kd=60130,Wl=60131;if(typeof Symbol=="function"&&Symbol.for){var xe=Symbol.for;$i=xe("react.element"),Kn=xe("react.portal"),pn=xe("react.fragment"),vd=xe("react.strict_mode"),qi=xe("react.profiler"),yd=xe("react.provider"),wd=xe("react.context"),Fa=xe("react.forward_ref"),Wi=xe("react.suspense"),Xo=xe("react.suspense_list"),Ba=xe("react.memo"),_d=xe("react.lazy"),Sd=xe("react.block"),xe("react.scope"),Ed=xe("react.opaque.id"),hg=xe("react.debug_trace_mode"),kd=xe("react.offscreen"),Wl=xe("react.legacy_hidden")}var ph=typeof Symbol=="function"&&Symbol.iterator;function Si(t){return t===null||typeof t!="object"?null:(t=ph&&t[ph]||t["@@iterator"],typeof t=="function"?t:null)}var Yu;function xi(t){if(Yu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yu=e&&e[1]||""}return`
`+Yu+t}var Xu=!1;function ho(t,e){if(!t||Xu)return"";Xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{Xu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xi(t):""}function cw(t){switch(t.tag){case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 2:case 15:return t=ho(t.type,!1),t;case 11:return t=ho(t.type.render,!1),t;case 22:return t=ho(t.type._render,!1),t;case 1:return t=ho(t.type,!0),t;default:return""}}function xr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case Kn:return"Portal";case qi:return"Profiler";case vd:return"StrictMode";case Wi:return"Suspense";case Xo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wd:return(t.displayName||"Context")+".Consumer";case yd:return(t._context.displayName||"Context")+".Provider";case Fa:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Ba:return xr(t.type);case Sd:return xr(t._render);case _d:e=t._payload,t=t._init;try{return xr(t(e))}catch{}}return null}function An(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function pg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dw(t){var e=pg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function po(t){t._valueTracker||(t._valueTracker=dw(t))}function mg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kl(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=An(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gg(t,e){e=e.checked,e!=null&&gd(t,"checked",e,!1)}function Gl(t,e){gg(t,e);var n=An(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ql(t,e.type,An(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ql(t,e,n){(e!=="number"||Jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function fw(t){var e="";return za.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Yl(t,e){return t=ye({children:void 0},e),(e=fw(e.children))&&(t.children=e),t}function jr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+An(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:An(n)}}function vg(t,e){var n=An(e.value),r=An(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Jl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function yg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mo,wg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Jl.svg||"innerHTML"in t)t.innerHTML=e;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ki={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hw=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(t){hw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ki[e]=Ki[t]})});function _g(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ki.hasOwnProperty(t)&&Ki[t]?(""+e).trim():e+"px"}function Sg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_g(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pw=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(t,e){if(e){if(pw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function tc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Cd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nc=null,zr=null,Fr=null;function wh(t){if(t=Bs(t)){if(typeof nc!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Ka(e),nc(t.stateNode,t.type,e))}}function Eg(t){zr?Fr?Fr.push(t):Fr=[t]:zr=t}function kg(){if(zr){var t=zr,e=Fr;if(Fr=zr=null,wh(t),e)for(t=0;t<e.length;t++)wh(e[t])}}function bd(t,e){return t(e)}function Cg(t,e,n,r,i){return t(e,n,r,i)}function Td(){}var bg=bd,Gn=!1,Ju=!1;function Id(){(zr!==null||Fr!==null)&&(Td(),kg())}function mw(t,e,n){if(Ju)return t(e,n);Ju=!0;try{return bg(t,e,n)}finally{Ju=!1,Id()}}function ds(t,e){var n=t.stateNode;if(n===null)return null;var r=Ka(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var rc=!1;if(sn)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){rc=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{rc=!1}function gw(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Gi=!1,Zo=null,ea=!1,ic=null,vw={onError:function(t){Gi=!0,Zo=t}};function yw(t,e,n,r,i,s,o,u,l){Gi=!1,Zo=null,gw.apply(vw,arguments)}function ww(t,e,n,r,i,s,o,u,l){if(yw.apply(this,arguments),Gi){if(Gi){var c=Zo;Gi=!1,Zo=null}else throw Error(j(198));ea||(ea=!0,ic=c)}}function yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _h(t){if(yr(t)!==t)throw Error(j(188))}function _w(t){var e=t.alternate;if(!e){if(e=yr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _h(i),t;if(s===r)return _h(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Ig(t){if(t=_w(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Sh(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Ag,Ad,Pg,Dg,sc=!1,zt=[],yn=null,wn=null,_n=null,fs=new Map,hs=new Map,ki=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function kh(t,e){switch(t){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function Ci(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=oc(e,n,r,i,s),e!==null&&(e=Bs(e),e!==null&&Ad(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sw(t,e,n,r,i){switch(e){case"focusin":return yn=Ci(yn,t,e,n,r,i),!0;case"dragenter":return wn=Ci(wn,t,e,n,r,i),!0;case"mouseover":return _n=Ci(_n,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fs.set(s,Ci(fs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hs.set(s,Ci(hs.get(s)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=Qn(t.target);if(e!==null){var n=yr(e);if(n!==null){if(e=n.tag,e===13){if(e=Tg(n),e!==null){t.blockedOn=e,Dg(t.lanePriority,function(){ze.unstable_runWithPriority(t.priority,function(){Pg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Bs(n),e!==null&&Ad(e),t.blockedOn=n,!1;e.shift()}return!0}function Ch(t,e,n){xo(t)&&n.delete(e)}function kw(){for(sc=!1;0<zt.length;){var t=zt[0];if(t.blockedOn!==null){t=Bs(t.blockedOn),t!==null&&Ag(t);break}for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&zt.shift()}yn!==null&&xo(yn)&&(yn=null),wn!==null&&xo(wn)&&(wn=null),_n!==null&&xo(_n)&&(_n=null),fs.forEach(Ch),hs.forEach(Ch)}function bi(t,e){t.blockedOn===e&&(t.blockedOn=null,sc||(sc=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,kw)))}function Ng(t){function e(i){return bi(i,t)}if(0<zt.length){bi(zt[0],t);for(var n=1;n<zt.length;n++){var r=zt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yn!==null&&bi(yn,t),wn!==null&&bi(wn,t),_n!==null&&bi(_n,t),fs.forEach(e),hs.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&ki.shift()}function go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ar={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},Zu={},Mg={};sn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Ua(t){if(Zu[t])return Zu[t];if(!Ar[t])return t;var e=Ar[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mg)return Zu[t]=e[n];return t}var Og=Ua("animationend"),Rg=Ua("animationiteration"),Lg=Ua("animationstart"),$g=Ua("transitionend"),xg=new Map,Pd=new Map,Cw=["abort","abort",Og,"animationEnd",Rg,"animationIteration",Lg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$g,"transitionEnd","waiting","waiting"];function Dd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pd.set(r,e),xg.set(r,i),gr(i,[r])}}var bw=ze.unstable_now;bw();var fe=8;function Cr(t){if(1&t)return fe=15,1;if(2&t)return fe=14,2;if(4&t)return fe=13,4;var e=24&t;return e!==0?(fe=12,e):t&32?(fe=11,32):(e=192&t,e!==0?(fe=10,e):t&256?(fe=9,256):(e=3584&t,e!==0?(fe=8,e):t&4096?(fe=7,4096):(e=4186112&t,e!==0?(fe=6,e):(e=62914560&t,e!==0?(fe=5,e):t&67108864?(fe=4,67108864):t&134217728?(fe=3,134217728):(e=805306368&t,e!==0?(fe=2,e):1073741824&t?(fe=1,1073741824):(fe=8,t))))))}function Tw(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Iw(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(j(358,t))}}function ps(t,e){var n=t.pendingLanes;if(n===0)return fe=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=fe=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Cr(l),i=fe):(u&=s,u!==0&&(r=Cr(u),i=fe))}else s=n&~o,s!==0?(r=Cr(s),i=fe):u!==0&&(r=Cr(u),i=fe);if(r===0)return 0;if(r=31-Pn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Cr(e),i<=fe)return e;fe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ta(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=br(24&~e),t===0?ta(10,e):t;case 10:return t=br(192&~e),t===0?ta(8,e):t;case 8:return t=br(3584&~e),t===0&&(t=br(4186112&~e),t===0&&(t=512)),t;case 2:return e=br(805306368&~e),e===0&&(e=268435456),e}throw Error(j(358,t))}function br(t){return t&-t}function el(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Va(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Pn(e),t[e]=n}var Pn=Math.clz32?Math.clz32:Dw,Aw=Math.log,Pw=Math.LN2;function Dw(t){return t===0?32:31-(Aw(t)/Pw|0)|0}var Nw=ze.unstable_UserBlockingPriority,Mw=ze.unstable_runWithPriority,jo=!0;function Ow(t,e,n,r){Gn||Td();var i=Nd,s=Gn;Gn=!0;try{Cg(i,t,e,n,r)}finally{(Gn=s)||Id()}}function Rw(t,e,n,r){Mw(Nw,Nd.bind(null,t,e,n,r))}function Nd(t,e,n,r){if(jo){var i;if((i=(e&4)===0)&&0<zt.length&&-1<Eh.indexOf(t))t=oc(null,t,e,n,r),zt.push(t);else{var s=Md(t,e,n,r);if(s===null)i&&kh(t,r);else{if(i){if(-1<Eh.indexOf(t)){t=oc(s,t,e,n,r),zt.push(t);return}if(Sw(s,t,e,n,r))return;kh(t,r)}Yg(t,e,r,null,n)}}}}function Md(t,e,n,r){var i=Cd(r);if(i=Qn(i),i!==null){var s=yr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Tg(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yg(t,e,r,i,n),null}var mn=null,Od=null,zo=null;function zg(){if(zo)return zo;var t,e=Od,n=e.length,r,i="value"in mn?mn.value:mn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zo=i.slice(t,1<r?1-r:void 0)}function Fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vo(){return!0}function bh(){return!1}function yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vo:bh,this.isPropagationStopped=bh,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=yt(ci),Fs=ye({},ci,{view:0,detail:0}),Lw=yt(Fs),tl,nl,Ti,Ha=ye({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(tl=t.screenX-Ti.screenX,nl=t.screenY-Ti.screenY):nl=tl=0,Ti=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:nl}}),Th=yt(Ha),$w=ye({},Ha,{dataTransfer:0}),xw=yt($w),jw=ye({},Fs,{relatedTarget:0}),rl=yt(jw),zw=ye({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=yt(zw),Bw=ye({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uw=yt(Bw),Vw=ye({},ci,{data:0}),Ih=yt(Vw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ww[t])?!!e[t]:!1}function Ld(){return Kw}var Gw=ye({},Fs,{key:function(t){if(t.key){var e=Hw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(t){return t.type==="keypress"?Fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qw=yt(Gw),Yw=ye({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=yt(Yw),Xw=ye({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),Jw=yt(Xw),Zw=ye({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),e_=yt(Zw),t_=ye({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n_=yt(t_),r_=[9,13,27,32],$d=sn&&"CompositionEvent"in window,Qi=null;sn&&"documentMode"in document&&(Qi=document.documentMode);var i_=sn&&"TextEvent"in window&&!Qi,Fg=sn&&(!$d||Qi&&8<Qi&&11>=Qi),Ph=" ",Dh=!1;function Bg(t,e){switch(t){case"keyup":return r_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function s_(t,e){switch(t){case"compositionend":return Ug(e);case"keypress":return e.which!==32?null:(Dh=!0,Ph);case"textInput":return t=e.data,t===Ph&&Dh?null:t;default:return null}}function o_(t,e){if(Pr)return t==="compositionend"||!$d&&Bg(t,e)?(t=zg(),zo=Od=mn=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fg&&e.locale!=="ko"?null:e.data;default:return null}}var a_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a_[t.type]:e==="textarea"}function Vg(t,e,n,r){Eg(r),e=na(e,"onChange"),0<e.length&&(n=new Rd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yi=null,ms=null;function u_(t){Kg(t,0)}function qa(t){var e=Nr(t);if(mg(e))return t}function l_(t,e){if(t==="change")return e}var Hg=!1;if(sn){var il;if(sn){var sl="oninput"in document;if(!sl){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),sl=typeof Mh.oninput=="function"}il=sl}else il=!1;Hg=il&&(!document.documentMode||9<document.documentMode)}function Oh(){Yi&&(Yi.detachEvent("onpropertychange",qg),ms=Yi=null)}function qg(t){if(t.propertyName==="value"&&qa(ms)){var e=[];if(Vg(e,ms,t,Cd(t)),t=u_,Gn)t(e);else{Gn=!0;try{bd(t,e)}finally{Gn=!1,Id()}}}}function c_(t,e,n){t==="focusin"?(Oh(),Yi=e,ms=n,Yi.attachEvent("onpropertychange",qg)):t==="focusout"&&Oh()}function d_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(ms)}function f_(t,e){if(t==="click")return qa(e)}function h_(t,e){if(t==="input"||t==="change")return qa(e)}function p_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:p_,m_=Object.prototype.hasOwnProperty;function gs(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!m_.call(e,n[r])||!_t(t[n[r]],e[n[r]]))return!1;return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,e){var n=Rh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rh(n)}}function Wg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $h(){for(var t=window,e=Jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jo(t.document)}return e}function ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var g_=sn&&"documentMode"in document&&11>=document.documentMode,Dr=null,uc=null,Xi=null,lc=!1;function xh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lc||Dr==null||Dr!==Jo(r)||(r=Dr,"selectionStart"in r&&ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&gs(Xi,r)||(Xi=r,r=na(uc,"onSelect"),0<r.length&&(e=new Rd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dr)))}Dd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Dd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Dd(Cw,2);for(var jh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ol=0;ol<jh.length;ol++)Pd.set(jh[ol],0);Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function zh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ww(r,e,void 0,t),t.currentTarget=null}function Kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;zh(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;zh(i,u,c),s=l}}}if(ea)throw t=ic,ea=!1,ic=null,t}function pe(t,e){var n=Jg(e),r=t+"__bubble";n.has(r)||(Qg(e,t,2,!1),n.add(r))}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Gg(t){t[Fh]||(t[Fh]=!0,fg.forEach(function(e){v_.has(e)||Bh(e,!1,t,null),Bh(e,!0,t,null)}))}function Bh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument);var o=Jg(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),Qg(s,t,i,e),o.add(u))}function Qg(t,e,n,r){var i=Pd.get(e);switch(i===void 0?2:i){case 0:i=Ow;break;case 1:i=Rw;break;default:i=Nd}n=i.bind(null,e,n,t),i=void 0,!rc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Qn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}mw(function(){var c=s,h=Cd(n),_=[];e:{var v=xg.get(t);if(v!==void 0){var T=Rd,A=t;switch(t){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":T=Qw;break;case"focusin":A="focus",T=rl;break;case"focusout":A="blur",T=rl;break;case"beforeblur":case"afterblur":T=rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Jw;break;case Og:case Rg:case Lg:T=Fw;break;case $g:T=e_;break;case"scroll":T=Lw;break;case"wheel":T=n_;break;case"copy":case"cut":case"paste":T=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Ah}var C=(e&4)!==0,y=!C&&t==="scroll",m=C?v!==null?v+"Capture":null:v;C=[];for(var g=c,b;g!==null;){b=g;var a=b.stateNode;if(b.tag===5&&a!==null&&(b=a,m!==null&&(a=ds(g,m),a!=null&&C.push(vs(g,a,b)))),y)break;g=g.return}0<C.length&&(v=new T(v,A,null,n,h),_.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&!(e&16)&&(A=n.relatedTarget||n.fromElement)&&(Qn(A)||A[di]))break e;if((T||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,T?(A=n.relatedTarget||n.toElement,T=c,A=A?Qn(A):null,A!==null&&(y=yr(A),A!==y||A.tag!==5&&A.tag!==6)&&(A=null)):(T=null,A=c),T!==A)){if(C=Th,a="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=Ah,a="onPointerLeave",m="onPointerEnter",g="pointer"),y=T==null?v:Nr(T),b=A==null?v:Nr(A),v=new C(a,g+"leave",T,n,h),v.target=y,v.relatedTarget=b,a=null,Qn(h)===c&&(C=new C(m,g+"enter",A,n,h),C.target=b,C.relatedTarget=y,a=C),y=a,T&&A)t:{for(C=T,m=A,g=0,b=C;b;b=kr(b))g++;for(b=0,a=m;a;a=kr(a))b++;for(;0<g-b;)C=kr(C),g--;for(;0<b-g;)m=kr(m),b--;for(;g--;){if(C===m||m!==null&&C===m.alternate)break t;C=kr(C),m=kr(m)}C=null}else C=null;T!==null&&Uh(_,v,T,C,!1),A!==null&&y!==null&&Uh(_,y,A,C,!0)}}e:{if(v=c?Nr(c):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var f=l_;else if(Nh(v))if(Hg)f=h_;else{f=d_;var d=c_}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(f=f_);if(f&&(f=f(t,c))){Vg(_,f,n,h);break e}d&&d(t,v,c),t==="focusout"&&(d=v._wrapperState)&&d.controlled&&v.type==="number"&&Ql(v,"number",v.value)}switch(d=c?Nr(c):window,t){case"focusin":(Nh(d)||d.contentEditable==="true")&&(Dr=d,uc=c,Xi=null);break;case"focusout":Xi=uc=Dr=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,xh(_,n,h);break;case"selectionchange":if(g_)break;case"keydown":case"keyup":xh(_,n,h)}var p;if($d)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pr?Bg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Fg&&n.locale!=="ko"&&(Pr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Pr&&(p=zg()):(mn=h,Od="value"in mn?mn.value:mn.textContent,Pr=!0)),d=na(c,w),0<d.length&&(w=new Ih(w,t,null,n,h),_.push({event:w,listeners:d}),p?w.data=p:(p=Ug(n),p!==null&&(w.data=p)))),(p=i_?s_(t,n):o_(t,n))&&(c=na(c,"onBeforeInput"),0<c.length&&(h=new Ih("onBeforeInput","beforeinput",null,n,h),_.push({event:h,listeners:c}),h.data=p))}Kg(_,e)})}function vs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function na(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ds(t,n),s!=null&&r.unshift(vs(t,s,i)),s=ds(t,e),s!=null&&r.push(vs(t,s,i))),t=t.return}return r}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=ds(n,s),l!=null&&o.unshift(vs(n,l,u))):i||(l=ds(n,s),l!=null&&o.push(vs(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function ra(){}var al=null,ul=null;function Xg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function cc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,y_=typeof clearTimeout=="function"?clearTimeout:void 0;function xd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Hh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ll=0;function w_(t){return{$$typeof:Ed,toString:t,valueOf:t}}var Wa=Math.random().toString(36).slice(2),gn="__reactFiber$"+Wa,ia="__reactProps$"+Wa,di="__reactContainer$"+Wa,qh="__reactEvents$"+Wa;function Qn(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hh(t);t!==null;){if(n=t[gn])return n;t=Hh(t)}return e}t=n,n=t.parentNode}return null}function Bs(t){return t=t[gn]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Ka(t){return t[ia]||null}function Jg(t){var e=t[qh];return e===void 0&&(e=t[qh]=new Set),e}var dc=[],Mr=-1;function xn(t){return{current:t}}function me(t){0>Mr||(t.current=dc[Mr],dc[Mr]=null,Mr--)}function ke(t,e){Mr++,dc[Mr]=t.current,t.current=e}var Dn={},nt=xn(Dn),ct=xn(!1),ar=Dn;function Yr(t,e){var n=t.type.contextTypes;if(!n)return Dn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function sa(){me(ct),me(nt)}function Wh(t,e,n){if(nt.current!==Dn)throw Error(j(168));ke(nt,e),ke(ct,n)}function Zg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(j(108,xr(e)||"Unknown",i));return ye({},n,r)}function Bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dn,ar=nt.current,ke(nt,t),ke(ct,ct.current),!0}function Kh(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Zg(t,e,ar),r.__reactInternalMemoizedMergedChildContext=t,me(ct),me(nt),ke(nt,t)):me(ct),ke(ct,n)}var jd=null,nr=null,__=ze.unstable_runWithPriority,zd=ze.unstable_scheduleCallback,fc=ze.unstable_cancelCallback,S_=ze.unstable_shouldYield,Gh=ze.unstable_requestPaint,hc=ze.unstable_now,E_=ze.unstable_getCurrentPriorityLevel,Ga=ze.unstable_ImmediatePriority,ev=ze.unstable_UserBlockingPriority,tv=ze.unstable_NormalPriority,nv=ze.unstable_LowPriority,rv=ze.unstable_IdlePriority,cl={},k_=Gh!==void 0?Gh:function(){},Jt=null,Uo=null,dl=!1,Qh=hc(),Je=1e4>Qh?hc:function(){return hc()-Qh};function Xr(){switch(E_()){case Ga:return 99;case ev:return 98;case tv:return 97;case nv:return 96;case rv:return 95;default:throw Error(j(332))}}function iv(t){switch(t){case 99:return Ga;case 98:return ev;case 97:return tv;case 96:return nv;case 95:return rv;default:throw Error(j(332))}}function ur(t,e){return t=iv(t),__(t,e)}function ys(t,e,n){return t=iv(t),zd(t,e,n)}function Qt(){if(Uo!==null){var t=Uo;Uo=null,fc(t)}sv()}function sv(){if(!dl&&Jt!==null){dl=!0;var t=0;try{var e=Jt;ur(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Jt=null}catch(n){throw Jt!==null&&(Jt=Jt.slice(t+1)),zd(Ga,Qt),n}finally{dl=!1}}}var C_=vr.ReactCurrentBatchConfig;function Rt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var oa=xn(null),aa=null,Or=null,ua=null;function Fd(){ua=Or=aa=null}function Bd(t){var e=oa.current;me(oa),t.type._context._currentValue=e}function ov(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Ur(t,e){aa=t,ua=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function bt(t,e){if(ua!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ua=t,e=1073741823),e={context:t,observedBits:e,next:null},Or===null){if(aa===null)throw Error(j(308));Or=e,aa.dependencies={lanes:0,firstContext:e,responders:null}}else Or=Or.next=e;return t._currentValue}var hn=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function av(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Yh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ws(t,e,n,r){var i=t.updateQueue;hn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var _=h.lastBaseUpdate;_!==o&&(_===null?h.firstBaseUpdate=c:_.next=c,h.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,h=c=l=null;do{u=s.lane;var v=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,A=s;switch(u=e,v=n,A.tag){case 1:if(T=A.payload,typeof T=="function"){_=T.call(v,_,u);break e}_=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=A.payload,u=typeof T=="function"?T.call(v,_,u):T,u==null)break e;_=ye({},_,u);break e;case 2:hn=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else v={eventTime:v,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=v,l=_):h=h.next=v,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);h===null&&(l=_),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,Vs|=o,t.lanes=o,t.memoizedState=_}}function Xh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var uv=new za.Component().refs;function la(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qa={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=kn(t),s=Sn(r,i);s.payload=e,n!=null&&(s.callback=n),En(t,s),Cn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=kn(t),s=Sn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),En(t,s),Cn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=kn(t),i=Sn(n,r);i.tag=2,e!=null&&(i.callback=e),En(t,i),Cn(t,r,n)}};function Jh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gs(n,r)||!gs(i,s):!0}function lv(t,e,n){var r=!1,i=Dn,s=e.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=dt(e)?ar:nt.current,r=e.contextTypes,s=(r=r!=null)?Yr(t,i):Dn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function pc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uv,Ud(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=dt(e)?ar:nt.current,i.context=Yr(t,s)),ws(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(la(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qa.enqueueReplaceState(i,i.state,null),ws(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var yo=Array.isArray;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===uv&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function wo(t,e){if(t.type!=="textarea")throw Error(j(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function cv(t){function e(y,m){if(t){var g=y.lastEffect;g!==null?(g.nextEffect=m,y.lastEffect=m):y.firstEffect=y.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Mn(y,m),y.index=0,y.sibling=null,y}function s(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags=2,m):g):(y.flags=2,m)):m}function o(y){return t&&y.alternate===null&&(y.flags=2),y}function u(y,m,g,b){return m===null||m.tag!==6?(m=gl(g,y.mode,b),m.return=y,m):(m=i(m,g),m.return=y,m)}function l(y,m,g,b){return m!==null&&m.elementType===g.type?(b=i(m,g.props),b.ref=Ii(y,m,g),b.return=y,b):(b=Wo(g.type,g.key,g.props,null,y.mode,b),b.ref=Ii(y,m,g),b.return=y,b)}function c(y,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=vl(g,y.mode,b),m.return=y,m):(m=i(m,g.children||[]),m.return=y,m)}function h(y,m,g,b,a){return m===null||m.tag!==7?(m=Wr(g,y.mode,b,a),m.return=y,m):(m=i(m,g),m.return=y,m)}function _(y,m,g){if(typeof m=="string"||typeof m=="number")return m=gl(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $i:return g=Wo(m.type,m.key,m.props,null,y.mode,g),g.ref=Ii(y,null,m),g.return=y,g;case Kn:return m=vl(m,y.mode,g),m.return=y,m}if(yo(m)||Si(m))return m=Wr(m,y.mode,g,null),m.return=y,m;wo(y,m)}return null}function v(y,m,g,b){var a=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return a!==null?null:u(y,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $i:return g.key===a?g.type===pn?h(y,m,g.props.children,b,a):l(y,m,g,b):null;case Kn:return g.key===a?c(y,m,g,b):null}if(yo(g)||Si(g))return a!==null?null:h(y,m,g,b,null);wo(y,g)}return null}function T(y,m,g,b,a){if(typeof b=="string"||typeof b=="number")return y=y.get(g)||null,u(m,y,""+b,a);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $i:return y=y.get(b.key===null?g:b.key)||null,b.type===pn?h(m,y,b.props.children,a,b.key):l(m,y,b,a);case Kn:return y=y.get(b.key===null?g:b.key)||null,c(m,y,b,a)}if(yo(b)||Si(b))return y=y.get(g)||null,h(m,y,b,a,null);wo(m,b)}return null}function A(y,m,g,b){for(var a=null,f=null,d=m,p=m=0,w=null;d!==null&&p<g.length;p++){d.index>p?(w=d,d=null):w=d.sibling;var S=v(y,d,g[p],b);if(S===null){d===null&&(d=w);break}t&&d&&S.alternate===null&&e(y,d),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S,d=w}if(p===g.length)return n(y,d),a;if(d===null){for(;p<g.length;p++)d=_(y,g[p],b),d!==null&&(m=s(d,m,p),f===null?a=d:f.sibling=d,f=d);return a}for(d=r(y,d);p<g.length;p++)w=T(d,y,p,g[p],b),w!==null&&(t&&w.alternate!==null&&d.delete(w.key===null?p:w.key),m=s(w,m,p),f===null?a=w:f.sibling=w,f=w);return t&&d.forEach(function(E){return e(y,E)}),a}function C(y,m,g,b){var a=Si(g);if(typeof a!="function")throw Error(j(150));if(g=a.call(g),g==null)throw Error(j(151));for(var f=a=null,d=m,p=m=0,w=null,S=g.next();d!==null&&!S.done;p++,S=g.next()){d.index>p?(w=d,d=null):w=d.sibling;var E=v(y,d,S.value,b);if(E===null){d===null&&(d=w);break}t&&d&&E.alternate===null&&e(y,d),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,d=w}if(S.done)return n(y,d),a;if(d===null){for(;!S.done;p++,S=g.next())S=_(y,S.value,b),S!==null&&(m=s(S,m,p),f===null?a=S:f.sibling=S,f=S);return a}for(d=r(y,d);!S.done;p++,S=g.next())S=T(d,y,p,S.value,b),S!==null&&(t&&S.alternate!==null&&d.delete(S.key===null?p:S.key),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S);return t&&d.forEach(function(I){return e(y,I)}),a}return function(y,m,g,b){var a=typeof g=="object"&&g!==null&&g.type===pn&&g.key===null;a&&(g=g.props.children);var f=typeof g=="object"&&g!==null;if(f)switch(g.$$typeof){case $i:e:{for(f=g.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(g.type===pn){n(y,a.sibling),m=i(a,g.props.children),m.return=y,y=m;break e}break;default:if(a.elementType===g.type){n(y,a.sibling),m=i(a,g.props),m.ref=Ii(y,a,g),m.return=y,y=m;break e}}n(y,a);break}else e(y,a);a=a.sibling}g.type===pn?(m=Wr(g.props.children,y.mode,b,g.key),m.return=y,y=m):(b=Wo(g.type,g.key,g.props,null,y.mode,b),b.ref=Ii(y,m,g),b.return=y,y=b)}return o(y);case Kn:e:{for(a=g.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=i(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=vl(g,y.mode,b),m.return=y,y=m}return o(y)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,g),m.return=y,y=m):(n(y,m),m=gl(g,y.mode,b),m.return=y,y=m),o(y);if(yo(g))return A(y,m,g,b);if(Si(g))return C(y,m,g,b);if(f&&wo(y,g),typeof g>"u"&&!a)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(j(152,xr(y.type)||"Component"))}return n(y,m)}}var ca=cv(!0),dv=cv(!1),Us={},Ut=xn(Us),_s=xn(Us),Ss=xn(Us);function Yn(t){if(t===Us)throw Error(j(174));return t}function mc(t,e){switch(ke(Ss,e),ke(_s,t),ke(Ut,Us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zl(e,t)}me(Ut),ke(Ut,e)}function Jr(){me(Ut),me(_s),me(Ss)}function ep(t){Yn(Ss.current);var e=Yn(Ut.current),n=Zl(e,t.type);e!==n&&(ke(_s,t),ke(Ut,n))}function Vd(t){_s.current===t&&(me(Ut),me(_s))}var Se=xn(0);function da(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var en=null,vn=null,Vt=!1;function fv(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function tp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function gc(t){if(Vt){var e=vn;if(e){var n=e;if(!tp(t,e)){if(e=Br(n.nextSibling),!e||!tp(t,e)){t.flags=t.flags&-1025|2,Vt=!1,en=t;return}fv(en,n)}en=t,vn=Br(e.firstChild)}else t.flags=t.flags&-1025|2,Vt=!1,en=t}}function np(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function _o(t){if(t!==en)return!1;if(!Vt)return np(t),Vt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!cc(e,t.memoizedProps))for(e=vn;e;)fv(t,e),e=Br(e.nextSibling);if(np(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=en?Br(t.stateNode.nextSibling):null;return!0}function fl(){vn=en=null,Vt=!1}var Vr=[];function Hd(){for(var t=0;t<Vr.length;t++)Vr[t]._workInProgressVersionPrimary=null;Vr.length=0}var Ji=vr.ReactCurrentDispatcher,kt=vr.ReactCurrentBatchConfig,Es=0,Ie=null,Qe=null,Be=null,fa=!1,Zi=!1;function at(){throw Error(j(321))}function qd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function Wd(t,e,n,r,i,s){if(Es=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ji.current=t===null||t.memoizedState===null?T_:I_,t=n(r,i),Zi){s=0;do{if(Zi=!1,!(25>s))throw Error(j(301));s+=1,Be=Qe=null,e.updateQueue=null,Ji.current=A_,t=n(r,i)}while(Zi)}if(Ji.current=ga,e=Qe!==null&&Qe.next!==null,Es=0,Be=Qe=Ie=null,fa=!1,e)throw Error(j(300));return t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ie.memoizedState=Be=t:Be=Be.next=t,Be}function wr(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Be===null?Ie.memoizedState:Be.next;if(e!==null)Be=e,Qe=t;else{if(t===null)throw Error(j(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Be===null?Ie.memoizedState=Be=t:Be=Be.next=t}return Be}function Ft(t,e){return typeof e=="function"?e(t):e}function Ai(t){var e=wr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((Es&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Ie.lanes|=c,Vs|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,_t(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Pi(t){var e=wr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_t(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rp(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Es&t)===t)&&(e._workInProgressVersionPrimary=r,Vr.push(e))),t)return n(e._source);throw Vr.push(e),Error(j(350))}function hv(t,e,n,r){var i=st;if(i===null)throw Error(j(349));var s=e._getVersion,o=s(e._source),u=Ji.current,l=u.useState(function(){return rp(i,e,n)}),c=l[1],h=l[0];l=Be;var _=t.memoizedState,v=_.refs,T=v.getSnapshot,A=_.source;_=_.subscribe;var C=Ie;return t.memoizedState={refs:v,source:e,subscribe:r},u.useEffect(function(){v.getSnapshot=n,v.setSnapshot=c;var y=s(e._source);if(!_t(o,y)){y=n(e._source),_t(h,y)||(c(y),y=kn(C),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var m=i.entanglements,g=y;0<g;){var b=31-Pn(g),a=1<<b;m[b]|=y,g&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var y=v.getSnapshot,m=v.setSnapshot;try{m(y(e._source));var g=kn(C);i.mutableReadLanes|=g&i.pendingLanes}catch(b){m(function(){throw b})}})},[e,r]),_t(T,n)&&_t(A,e)&&_t(_,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:h},t.dispatch=c=Qd.bind(null,Ie,t),l.queue=t,l.baseQueue=null,h=rp(i,e,n),l.memoizedState=l.baseState=h),h}function pv(t,e,n){var r=wr();return hv(r,t,e,n)}function Di(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:t},t=t.dispatch=Qd.bind(null,Ie,t),[e.memoizedState,t]}function ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ip(t){var e=Xn();return t={current:t},e.memoizedState=t}function pa(){return wr().memoizedState}function vc(t,e,n,r){var i=Xn();Ie.flags|=t,i.memoizedState=ha(1|e,n,void 0,r===void 0?null:r)}function Kd(t,e,n,r){var i=wr();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&qd(r,o.deps)){ha(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=ha(1|e,n,s,r)}function sp(t,e){return vc(516,4,t,e)}function ma(t,e){return Kd(516,4,t,e)}function mv(t,e){return Kd(4,2,t,e)}function gv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vv(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,2,gv.bind(null,e,t),n)}function Gd(){}function yv(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wv(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b_(t,e){var n=Xr();ur(98>n?98:n,function(){t(!0)}),ur(97<n?97:n,function(){var r=kt.transition;kt.transition=1;try{t(!1),e()}finally{kt.transition=r}})}function Qd(t,e,n){var r=mt(),i=kn(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Ie||o!==null&&o===Ie)Zi=fa=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,_t(l,u))return}catch{}finally{}Cn(t,i,r)}}var ga={readContext:bt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useOpaqueIdentifier:at,unstable_isNewReconciler:!1},T_={readContext:bt,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:sp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4,2,gv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Qd.bind(null,Ie,t),[r.memoizedState,t]},useRef:ip,useState:Di,useDebugValue:Gd,useDeferredValue:function(t){var e=Di(t),n=e[0],r=e[1];return sp(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Di(!1),e=t[0];return t=b_.bind(null,t[1]),ip(t),[t,e]},useMutableSource:function(t,e,n){var r=Xn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},hv(r,t,e,n)},useOpaqueIdentifier:function(){if(Vt){var t=!1,e=w_(function(){throw t||(t=!0,n("r:"+(ll++).toString(36))),Error(j(355))}),n=Di(e)[1];return!(Ie.mode&2)&&(Ie.flags|=516,ha(5,function(){n("r:"+(ll++).toString(36))},void 0,null)),e}return e="r:"+(ll++).toString(36),Di(e),e},unstable_isNewReconciler:!1},I_={readContext:bt,useCallback:yv,useContext:bt,useEffect:ma,useImperativeHandle:vv,useLayoutEffect:mv,useMemo:wv,useReducer:Ai,useRef:pa,useState:function(){return Ai(Ft)},useDebugValue:Gd,useDeferredValue:function(t){var e=Ai(Ft),n=e[0],r=e[1];return ma(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Ai(Ft)[0];return[pa().current,t]},useMutableSource:pv,useOpaqueIdentifier:function(){return Ai(Ft)[0]},unstable_isNewReconciler:!1},A_={readContext:bt,useCallback:yv,useContext:bt,useEffect:ma,useImperativeHandle:vv,useLayoutEffect:mv,useMemo:wv,useReducer:Pi,useRef:pa,useState:function(){return Pi(Ft)},useDebugValue:Gd,useDeferredValue:function(t){var e=Pi(Ft),n=e[0],r=e[1];return ma(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Pi(Ft)[0];return[pa().current,t]},useMutableSource:pv,useOpaqueIdentifier:function(){return Pi(Ft)[0]},unstable_isNewReconciler:!1},P_=vr.ReactCurrentOwner,Lt=!1;function ut(t,e,n,r){e.child=t===null?dv(e,null,n,r):ca(e,t.child,n,r)}function op(t,e,n,r,i){n=n.render;var s=e.ref;return Ur(e,i),r=Wd(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,tn(t,e,i)):(e.flags|=1,ut(t,e,r,i),e.child)}function ap(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!tf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_v(t,e,o,r,i,s)):(t=Wo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:gs,n(i,r)&&t.ref===e.ref)?tn(t,e,s):(e.flags|=1,t=Mn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function _v(t,e,n,r,i,s){if(t!==null&&gs(t.memoizedProps,r)&&t.ref===e.ref)if(Lt=!1,(s&i)!==0)t.flags&16384&&(Lt=!0);else return e.lanes=t.lanes,tn(t,e,s);return yc(t,e,n,r,s)}function hl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Eo(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},Eo(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Eo(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Eo(e,r);return ut(t,e,i,n),e.child}function Sv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function yc(t,e,n,r,i){var s=dt(n)?ar:nt.current;return s=Yr(e,s),Ur(e,i),n=Wd(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,tn(t,e,i)):(e.flags|=1,ut(t,e,n,i),e.child)}function up(t,e,n,r,i){if(dt(n)){var s=!0;Bo(e)}else s=!1;if(Ur(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),lv(e,n,r),pc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=dt(n)?ar:nt.current,c=Yr(e,c));var h=n.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&Zh(e,o,r,c),hn=!1;var v=e.memoizedState;o.state=v,ws(e,r,o,i),l=e.memoizedState,u!==r||v!==l||ct.current||hn?(typeof h=="function"&&(la(e,n,h,r),l=e.memoizedState),(u=hn||Jh(e,n,u,r,v,l,c))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,av(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Rt(e.type,u),o.props=c,_=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bt(l):(l=dt(n)?ar:nt.current,l=Yr(e,l));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||v!==l)&&Zh(e,o,r,l),hn=!1,v=e.memoizedState,o.state=v,ws(e,r,o,i);var A=e.memoizedState;u!==_||v!==A||ct.current||hn?(typeof T=="function"&&(la(e,n,T,r),A=e.memoizedState),(c=hn||Jh(e,n,c,r,v,A,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),r=!1)}return wc(t,e,n,r,s,i)}function wc(t,e,n,r,i,s){Sv(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Kh(e,n,!1),tn(t,e,s);r=e.stateNode,P_.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,u,s)):ut(t,e,u,s),e.memoizedState=r.state,i&&Kh(e,n,!0),e.child}function lp(t){var e=t.stateNode;e.pendingContext?Wh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wh(t,e.context,!1),mc(t,e.containerInfo)}var So={dehydrated:null,retryLane:0};function cp(t,e,n){var r=e.pendingProps,i=Se.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ke(Se,i&1),t===null?(r.fallback!==void 0&&gc(e),t=r.children,i=r.fallback,s?(t=dp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=So,t):typeof r.unstable_expectedLoadTime=="number"?(t=dp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=So,e.lanes=33554432,t):(n=nf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=hp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=So,r):(n=fp(t,e,r.children,n),e.memoizedState=null,n):s?(r=hp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=So,r):(n=fp(t,e,r.children,n),e.memoizedState=null,n)}function dp(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=nf(e,i,0,null),n=Wr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function fp(t,e,n,r){var i=t.child;return t=i.sibling,n=Mn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function hp(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Mn(o,u),t!==null?r=Mn(t,r):(r=Wr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function pp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ov(t.return,e)}function pl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function mp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ut(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pp(t,n);else if(t.tag===19)pp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Se,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&da(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&da(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pl(e,!0,n,null,s,e.lastEffect);break;case"together":pl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Ev,_c,kv,Cv;Ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_c=function(){};kv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yn(Ut.current);var s=null;switch(n){case"input":i=Kl(t,i),r=Kl(t,r),s=[];break;case"option":i=Yl(t,i),r=Yl(t,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Xl(t,i),r=Xl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ra)}ec(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ls.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ls.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===Ed?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Cv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ni(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function D_(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return dt(e.type)&&sa(),null;case 3:return Jr(),me(ct),me(nt),Hd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_o(e)?e.flags|=4:r.hydrate||(e.flags|=256)),_c(e),null;case 5:Vd(e);var i=Yn(Ss.current);if(n=e.type,t!==null&&e.stateNode!=null)kv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(j(166));return null}if(t=Yn(Ut.current),_o(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gn]=e,r[ia]=s,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(t=0;t<ji.length;t++)pe(ji[t],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":mh(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":vh(r,s),pe("invalid",r)}ec(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ls.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&pe("scroll",r));switch(n){case"input":po(r),gh(r,s,!0);break;case"textarea":po(r),yh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ra)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Jl.html&&(t=yg(n)),t===Jl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[ia]=r,Ev(t,e,!1,!1),e.stateNode=t,o=tc(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ji.length;i++)pe(ji[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":mh(t,r),i=Kl(t,r),pe("invalid",t);break;case"option":i=Yl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),pe("invalid",t);break;case"textarea":vh(t,r),i=Xl(t,r),pe("invalid",t);break;default:i=r}ec(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Sg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cs(t,l):typeof l=="number"&&cs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ls.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&gd(t,s,l,o))}switch(n){case"input":po(t),gh(t,r,!1);break;case"textarea":po(t),yh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+An(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jr(t,!!r.multiple,s,!1):r.defaultValue!=null&&jr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ra)}Xg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Cv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));n=Yn(Ss.current),Yn(Ut.current),_o(e)?(r=e.stateNode,n=e.memoizedProps,r[gn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r)}return null;case 13:return me(Se),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&_o(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Se.current&1?Ve===0&&(Ve=3):((Ve===0||Ve===3)&&(Ve=4),st===null||!(Vs&134217727)&&!(hi&134217727)||Hr(st,Ze))),(r||n)&&(e.flags|=4),null);case 4:return Jr(),_c(e),t===null&&Gg(e.stateNode.containerInfo),null;case 10:return Bd(e),null;case 17:return dt(e.type)&&sa(),null;case 19:if(me(Se),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Ni(r,!1);else{if(Ve!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=da(t),o!==null){for(e.flags|=64,Ni(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Se,Se.current&1|2),e.child}t=t.sibling}r.tail!==null&&Je()>Tc&&(e.flags|=64,s=!0,Ni(r,!1),e.lanes=33554432)}else{if(!s)if(t=da(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ni(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Vt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Je()-r.renderingStartTime>Tc&&n!==1073741824&&(e.flags|=64,s=!0,Ni(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Je(),n.sibling=null,e=Se.current,ke(Se,s?e&1|2:e&1),n):null;case 23:case 24:return ef(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(j(156,e.tag))}function N_(t){switch(t.tag){case 1:dt(t.type)&&sa();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Jr(),me(ct),me(nt),Hd(),e=t.flags,e&64)throw Error(j(285));return t.flags=e&-4097|64,t;case 5:return Vd(t),null;case 13:return me(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return me(Se),null;case 4:return Jr(),null;case 10:return Bd(t),null;case 23:case 24:return ef(),null;default:return null}}function Yd(t,e){try{var n="",r=e;do n+=cw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Sc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M_=typeof WeakMap=="function"?WeakMap:Map;function bv(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ya||(ya=!0,Ic=r),Sc(t,e)},n}function Tv(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return Sc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this),Sc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var O_=typeof WeakSet=="function"?WeakSet:Set;function gp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){bn(t,n)}else e.current=null}function R_(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Rt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&xd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(j(163))}function L_(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(Lv(n,t),V_(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Rt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Xh(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Xh(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Xg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ng(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(j(163))}function vp(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=_g("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yp(t,e){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(jd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)Lv(e,n);else{r=e;try{i()}catch(s){bn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(gp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){bn(e,s)}break;case 5:gp(e);break;case 4:Iv(t,e)}}function wp(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function _p(t){return t.tag===5||t.tag===3||t.tag===4}function Sp(t){e:{for(var e=t.return;e!==null;){if(_p(e))break e;e=e.return}throw Error(j(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(j(161))}n.flags&16&&(cs(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||_p(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Ec(t,n,e):kc(t,n,e)}function Ec(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ra));else if(r!==4&&(t=t.child,t!==null))for(Ec(t,e,n),t=t.sibling;t!==null;)Ec(t,e,n),t=t.sibling}function kc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kc(t,e,n),t=t.sibling;t!==null;)kc(t,e,n),t=t.sibling}function Iv(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(j(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(yp(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(yp(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ml(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[ia]=r,t==="input"&&r.type==="radio"&&r.name!=null&&gg(n,r),tc(t,i),e=tc(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?Sg(n,u):o==="dangerouslySetInnerHTML"?wg(n,u):o==="children"?cs(n,u):gd(n,o,u,e)}switch(t){case"input":Gl(n,r);break;case"textarea":vg(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?jr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?jr(n,!!r.multiple,r.defaultValue,!0):jr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(j(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ng(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Zd=Je(),vp(e.child,!0)),Ep(e);return;case 19:Ep(e);return;case 17:return;case 23:case 24:vp(e,e.memoizedState!==null);return}throw Error(j(163))}function Ep(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O_),e.forEach(function(r){var i=W_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $_(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var x_=Math.ceil,va=vr.ReactCurrentDispatcher,Xd=vr.ReactCurrentOwner,X=0,st=null,Oe=null,Ze=0,lr=0,Cc=xn(0),Ve=0,Ya=null,fi=0,Vs=0,hi=0,Jd=0,bc=null,Zd=0,Tc=1/0;function pi(){Tc=Je()+500}var H=null,ya=!1,Ic=null,Bt=null,Nn=!1,es=null,zi=90,Ac=[],Pc=[],rn=null,ts=0,Dc=null,Vo=-1,Zt=0,Ho=0,ns=null,qo=!1;function mt(){return X&48?Je():Vo!==-1?Vo:Vo=Je()}function kn(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Xr()===99?1:2;if(Zt===0&&(Zt=fi),C_.transition!==0){Ho!==0&&(Ho=bc!==null?bc.pendingLanes:0),t=Zt;var e=4186112&~Ho;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Xr(),X&4&&t===98?t=ta(12,Zt):(t=Tw(t),t=ta(t,Zt)),t}function Cn(t,e,n){if(50<ts)throw ts=0,Dc=null,Error(j(185));if(t=Xa(t,e),t===null)return null;Va(t,e,n),t===st&&(hi|=e,Ve===4&&Hr(t,Ze));var r=Xr();e===1?X&8&&!(X&48)?Nc(t):(Tt(t,n),X===0&&(pi(),Qt())):(!(X&4)||r!==98&&r!==99||(rn===null?rn=new Set([t]):rn.add(t)),Tt(t,n)),bc=t}function Xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Tt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Pn(o),l=1<<u,c=s[u];if(c===-1){if(!(l&r)||l&i){c=e,Cr(l);var h=fe;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=ps(t,t===st?Ze:0),e=fe,r===0)n!==null&&(n!==cl&&fc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==cl&&fc(n)}e===15?(n=Nc.bind(null,t),Jt===null?(Jt=[n],Uo=zd(Ga,sv)):Jt.push(n),n=cl):e===14?n=ys(99,Nc.bind(null,t)):(n=Iw(e),n=ys(n,Av.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Av(t){if(Vo=-1,Ho=Zt=0,X&48)throw Error(j(327));var e=t.callbackNode;if(jn()&&t.callbackNode!==e)return null;var n=ps(t,t===st?Ze:0);if(n===0)return null;var r=n,i=X;X|=16;var s=Mv();(st!==t||Ze!==r)&&(pi(),qr(t,r));do try{F_();break}catch(u){Nv(t,u)}while(!0);if(Fd(),va.current=s,X=i,Oe!==null?r=0:(st=null,Ze=0,r=Ve),fi&hi)qr(t,0);else if(r!==0){if(r===2&&(X|=64,t.hydrate&&(t.hydrate=!1,xd(t.containerInfo)),n=jg(t),n!==0&&(r=Fi(t,n))),r===1)throw e=Ya,qr(t,0),Hr(t,n),Tt(t,Je()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(j(345));case 2:Hn(t);break;case 3:if(Hr(t,n),(n&62914560)===n&&(r=Zd+500-Je(),10<r)){if(ps(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vh(Hn.bind(null,t),r);break}Hn(t);break;case 4:if(Hr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Pn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*x_(n/1960))-n,10<n){t.timeoutHandle=Vh(Hn.bind(null,t),n);break}Hn(t);break;case 5:Hn(t);break;default:throw Error(j(329))}}return Tt(t,Je()),t.callbackNode===e?Av.bind(null,t):null}function Hr(t,e){for(e&=~Jd,e&=~hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Nc(t){if(X&48)throw Error(j(327));if(jn(),t===st&&t.expiredLanes&Ze){var e=Ze,n=Fi(t,e);fi&hi&&(e=ps(t,e),n=Fi(t,e))}else e=ps(t,0),n=Fi(t,e);if(t.tag!==0&&n===2&&(X|=64,t.hydrate&&(t.hydrate=!1,xd(t.containerInfo)),e=jg(t),e!==0&&(n=Fi(t,e))),n===1)throw n=Ya,qr(t,0),Hr(t,e),Tt(t,Je()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t),Tt(t,Je()),null}function j_(){if(rn!==null){var t=rn;rn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Tt(e,Je())})}Qt()}function Pv(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(pi(),Qt())}}function Dv(t,e){var n=X;X&=-2,X|=8;try{return t(e)}finally{X=n,X===0&&(pi(),Qt())}}function Eo(t,e){ke(Cc,lr),lr|=e,fi|=e}function ef(){lr=Cc.current,me(Cc)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y_(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&sa();break;case 3:Jr(),me(ct),me(nt),Hd();break;case 5:Vd(r);break;case 4:Jr();break;case 13:me(Se);break;case 19:me(Se);break;case 10:Bd(r);break;case 23:case 24:ef()}n=n.return}st=t,Oe=Mn(t.current,null),Ze=lr=fi=e,Ve=0,Ya=null,Jd=hi=Vs=0}function Nv(t,e){do{var n=Oe;try{if(Fd(),Ji.current=ga,fa){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fa=!1}if(Es=0,Be=Qe=Ie=null,Zi=!1,Xd.current=null,n===null||n.return===null){Ve=1,Ya=e,Oe=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Ze,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Se.current&1)!==0,v=o;do{var T;if(T=v.tag===13){var A=v.memoizedState;if(A!==null)T=A.dehydrated!==null;else{var C=v.memoizedProps;T=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!_}}if(T){var y=v.updateQueue;if(y===null){var m=new Set;m.add(c),v.updateQueue=m}else y.add(c);if(!(v.mode&2)){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var g=Sn(-1,1);g.tag=2,En(u,g)}u.lanes|=1;break e}l=void 0,u=e;var b=s.pingCache;if(b===null?(b=s.pingCache=new M_,l=new Set,b.set(c,l)):(l=b.get(c),l===void 0&&(l=new Set,b.set(c,l))),!l.has(u)){l.add(u);var a=q_.bind(null,s,c,u);c.then(a,a)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);l=Error((xr(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ve!==5&&(Ve=2),l=Yd(l,u),v=o;do{switch(v.tag){case 3:s=l,v.flags|=4096,e&=-e,v.lanes|=e;var f=bv(v,s,e);Yh(v,f);break e;case 1:s=l;var d=v.type,p=v.stateNode;if(!(v.flags&64)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bt===null||!Bt.has(p)))){v.flags|=4096,e&=-e,v.lanes|=e;var w=Tv(v,s,e);Yh(v,w);break e}}v=v.return}while(v!==null)}Rv(n)}catch(S){e=S,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Mv(){var t=va.current;return va.current=ga,t===null?ga:t}function Fi(t,e){var n=X;X|=16;var r=Mv();st===t&&Ze===e||qr(t,e);do try{z_();break}catch(i){Nv(t,i)}while(!0);if(Fd(),X=n,va.current=r,Oe!==null)throw Error(j(261));return st=null,Ze=0,Ve}function z_(){for(;Oe!==null;)Ov(Oe)}function F_(){for(;Oe!==null&&!S_();)Ov(Oe)}function Ov(t){var e=$v(t.alternate,t,lr);t.memoizedProps=t.pendingProps,e===null?Rv(t):Oe=e,Xd.current=null}function Rv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=N_(e),n!==null){n.flags&=2047,Oe=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=D_(n,e,lr),n!==null){Oe=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||lr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Ve===0&&(Ve=5)}function Hn(t){var e=Xr();return ur(99,B_.bind(null,t,e)),null}function B_(t,e){do jn();while(es!==null);if(X&48)throw Error(j(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-Pn(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(rn!==null&&!(r&24)&&rn.has(t)&&rn.delete(t),t===st&&(Oe=st=null,Ze=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=X,X|=32,Xd.current=null,al=jo,o=$h(),ac(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,_=-1,v=-1,T=0,A=0,C=o,y=null;t:for(;;){for(var m;C!==u||s!==0&&C.nodeType!==3||(_=h+s),C!==l||c!==0&&C.nodeType!==3||(v=h+c),C.nodeType===3&&(h+=C.nodeValue.length),(m=C.firstChild)!==null;)y=C,C=m;for(;;){if(C===o)break t;if(y===u&&++T===s&&(_=h),y===l&&++A===c&&(v=h),(m=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=m}u=_===-1||v===-1?null:{start:_,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;ul={focusedElem:o,selectionRange:u},jo=!1,ns=null,qo=!1,H=r;do try{U_()}catch(S){if(H===null)throw Error(j(330));bn(H,S),H=H.nextEffect}while(H!==null);ns=null,H=r;do try{for(o=t;H!==null;){var g=H.flags;if(g&16&&cs(H.stateNode,""),g&128){var b=H.alternate;if(b!==null){var a=b.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(g&1038){case 2:Sp(H),H.flags&=-3;break;case 6:Sp(H),H.flags&=-3,ml(H.alternate,H);break;case 1024:H.flags&=-1025;break;case 1028:H.flags&=-1025,ml(H.alternate,H);break;case 4:ml(H.alternate,H);break;case 8:u=H,Iv(o,u);var f=u.alternate;wp(u),f!==null&&wp(f)}H=H.nextEffect}}catch(S){if(H===null)throw Error(j(330));bn(H,S),H=H.nextEffect}while(H!==null);if(a=ul,b=$h(),g=a.focusedElem,o=a.selectionRange,b!==g&&g&&g.ownerDocument&&Wg(g.ownerDocument.documentElement,g)){for(o!==null&&ac(g)&&(b=o.start,a=o.end,a===void 0&&(a=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(a,g.value.length)):(a=(b=g.ownerDocument||document)&&b.defaultView||window,a.getSelection&&(a=a.getSelection(),u=g.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=Lh(g,f),s=Lh(g,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(b=b.createRange(),b.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(b),a.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),a.addRange(b)))))),b=[],a=g;a=a.parentNode;)a.nodeType===1&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<b.length;g++)a=b[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}jo=!!al,ul=al=null,t.current=n,H=r;do try{for(g=t;H!==null;){var d=H.flags;if(d&36&&L_(g,H.alternate,H),d&128){b=void 0;var p=H.ref;if(p!==null){var w=H.stateNode;switch(H.tag){case 5:b=w;break;default:b=w}typeof p=="function"?p(b):p.current=b}}H=H.nextEffect}}catch(S){if(H===null)throw Error(j(330));bn(H,S),H=H.nextEffect}while(H!==null);H=null,k_(),X=i}else t.current=n;if(Nn)Nn=!1,es=t,zi=e;else for(H=r;H!==null;)e=H.nextEffect,H.nextEffect=null,H.flags&8&&(d=H,d.sibling=null,d.stateNode=null),H=e;if(r=t.pendingLanes,r===0&&(Bt=null),r===1?t===Dc?ts++:(ts=0,Dc=t):ts=0,n=n.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(jd,n,void 0,(n.current.flags&64)===64)}catch{}if(Tt(t,Je()),ya)throw ya=!1,t=Ic,Ic=null,t;return X&8||Qt(),null}function U_(){for(;H!==null;){var t=H.alternate;qo||ns===null||(H.flags&8?Sh(H,ns)&&(qo=!0):H.tag===13&&$_(t,H)&&Sh(H,ns)&&(qo=!0));var e=H.flags;e&256&&R_(t,H),!(e&512)||Nn||(Nn=!0,ys(97,function(){return jn(),null})),H=H.nextEffect}}function jn(){if(zi!==90){var t=97<zi?97:zi;return zi=90,ur(t,H_)}return!1}function V_(t,e){Ac.push(e,t),Nn||(Nn=!0,ys(97,function(){return jn(),null}))}function Lv(t,e){Pc.push(e,t),Nn||(Nn=!0,ys(97,function(){return jn(),null}))}function H_(){if(es===null)return!1;var t=es;if(es=null,X&48)throw Error(j(331));var e=X;X|=32;var n=Pc;Pc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(j(330));bn(s,l)}}for(n=Ac,Ac=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(j(330));bn(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return X=e,Qt(),!0}function kp(t,e,n){e=Yd(n,e),e=bv(t,e,1),En(t,e),e=mt(),t=Xa(t,1),t!==null&&(Va(t,1,e),Tt(t,e))}function bn(t,e){if(t.tag===3)kp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){kp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=Yd(e,t);var i=Tv(n,t,1);if(En(n,i),i=mt(),n=Xa(n,1),n!==null)Va(n,1,i),Tt(n,i);else if(typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(Ze&n)===n&&(Ve===4||Ve===3&&(Ze&62914560)===Ze&&500>Je()-Zd?qr(t,0):Jd|=n),Tt(t,e)}function W_(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Zt===0&&(Zt=fi),e=br(62914560&~Zt),e===0&&(e=4194304)):e=Xr()===99?1:2:e=1),n=mt(),t=Xa(t,e),t!==null&&(Va(t,e,n),Tt(t,n))}var $v;$v=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)Lt=!0;else if(n&r)Lt=!!(t.flags&16384);else{switch(Lt=!1,e.tag){case 3:lp(e),fl();break;case 5:ep(e);break;case 1:dt(e.type)&&Bo(e);break;case 4:mc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ke(oa,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?cp(t,e,n):(ke(Se,Se.current&1),e=tn(t,e,n),e!==null?e.sibling:null);ke(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return mp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Se,Se.current),r)break;return null;case 23:case 24:return e.lanes=0,hl(t,e,n)}return tn(t,e,n)}else Lt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Yr(e,nt.current),Ur(e,n),i=Wd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)){var s=!0;Bo(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ud(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&la(e,r,o,t),i.updater=Qa,e.stateNode=i,i._reactInternals=e,pc(e,r,t,n),e=wc(null,e,r,!0,s,n)}else e.tag=0,ut(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=G_(i),t=Rt(i,t),s){case 0:e=yc(null,e,i,t,n);break e;case 1:e=up(null,e,i,t,n);break e;case 11:e=op(null,e,i,t,n);break e;case 14:e=ap(null,e,i,Rt(i.type,t),r,n);break e}throw Error(j(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),yc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),up(t,e,r,i,n);case 3:if(lp(e),r=e.updateQueue,t===null||r===null)throw Error(j(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,av(t,e),ws(e,r,null,n),r=e.memoizedState.element,r===i)fl(),e=tn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(vn=Br(e.stateNode.containerInfo.firstChild),en=e,s=Vt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Vr.push(s);for(n=dv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else ut(t,e,r,n),fl();e=e.child}return e;case 5:return ep(e),t===null&&gc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,cc(r,i)?o=null:s!==null&&cc(r,s)&&(e.flags|=16),Sv(t,e),ut(t,e,o,n),e.child;case 6:return t===null&&gc(e),null;case 13:return cp(t,e,n);case 4:return mc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),op(t,e,r,i,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(ke(oa,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=_t(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!ct.current){e=tn(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){u.tag===1&&(c=Sn(-1,n&-n),c.tag=2,En(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),ov(u.return,n),l.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Ur(e,n),i=bt(i,s.unstable_observedBits),r=r(i),e.flags|=1,ut(t,e,r,n),e.child;case 14:return i=e.type,s=Rt(i,e.pendingProps),s=Rt(i.type,s),ap(t,e,i,s,r,n);case 15:return _v(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,dt(r)?(t=!0,Bo(e)):t=!1,Ur(e,n),lv(e,r,i),pc(e,r,i,n),wc(null,e,r,!0,t,n);case 19:return mp(t,e,n);case 23:return hl(t,e,n);case 24:return hl(t,e,n)}throw Error(j(156,e.tag))};function K_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new K_(t,e,n,r)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G_(t){if(typeof t=="function")return tf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fa)return 11;if(t===Ba)return 14}return 2}function Mn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pn:return Wr(n.children,i,s,e);case hg:o=8,i|=16;break;case vd:o=8,i|=1;break;case qi:return t=St(12,n,e,i|8),t.elementType=qi,t.type=qi,t.lanes=s,t;case Wi:return t=St(13,n,e,i),t.type=Wi,t.elementType=Wi,t.lanes=s,t;case Xo:return t=St(19,n,e,i),t.elementType=Xo,t.lanes=s,t;case kd:return nf(n,i,s,e);case Wl:return t=St(24,n,e,i),t.elementType=Wl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yd:o=10;break e;case wd:o=9;break e;case Fa:o=11;break e;case Ba:o=14;break e;case _d:o=16,r=null;break e;case Sd:o=22;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=St(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wr(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function nf(t,e,n,r){return t=St(23,t,r,e),t.elementType=kd,t.lanes=n,t}function gl(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function vl(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q_(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.mutableSourceEagerHydrationData=null}function Y_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wa(t,e,n,r){var i=e.current,s=mt(),o=kn(i);e:if(n){n=n._reactInternals;t:{if(yr(n)!==n||n.tag!==1)throw Error(j(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(dt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(j(171))}if(n.tag===1){var l=n.type;if(dt(l)){n=Zg(n,l,u);break e}}n=u}else n=Dn;return e.context===null?e.context=n:e.pendingContext=n,e=Sn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),En(i,e),Cn(i,o,s),o}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rf(t,e){Cp(t,e),(t=t.alternate)&&Cp(t,e)}function X_(){return null}function sf(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Q_(t,e,n!=null&&n.hydrate===!0),e=St(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Ud(e),t[di]=n.current,Gg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}sf.prototype.render=function(t){wa(t,this._internalRoot,null,null)};sf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;wa(null,t,null,function(){e[di]=null})};function Hs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J_(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new sf(t,0,e?{hydrate:!0}:void 0)}function Ja(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=yl(o);u.call(c)}}wa(e,o,t,i)}else{if(s=n._reactRootContainer=J_(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=yl(o);l.call(c)}}Dv(function(){wa(e,o,t,i)})}return yl(o)}Ag=function(t){if(t.tag===13){var e=mt();Cn(t,4,e),rf(t,4)}};Ad=function(t){if(t.tag===13){var e=mt();Cn(t,67108864,e),rf(t,67108864)}};Pg=function(t){if(t.tag===13){var e=mt(),n=kn(t);Cn(t,n,e),rf(t,n)}};Dg=function(t,e){return e()};nc=function(t,e,n){switch(e){case"input":if(Gl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ka(r);if(!i)throw Error(j(90));mg(r),Gl(r,i)}}}break;case"textarea":vg(t,n);break;case"select":e=n.value,e!=null&&jr(t,!!n.multiple,e,!1)}};bd=Pv;Cg=function(t,e,n,r,i){var s=X;X|=4;try{return ur(98,t.bind(null,e,n,r,i))}finally{X=s,X===0&&(pi(),Qt())}};Td=function(){!(X&49)&&(j_(),jn())};bg=function(t,e){var n=X;X|=2;try{return t(e)}finally{X=n,X===0&&(pi(),Qt())}};function xv(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hs(e))throw Error(j(200));return Y_(t,e,null,n)}var Z_={Events:[Bs,Nr,Ka,Eg,kg,jn,{current:!1}]},Mi={findFiberByHostInstance:Qn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},e3={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ig(t),t===null?null:t.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{jd=ko.inject(e3),nr=ko}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z_;At.createPortal=xv;At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):Error(j(268,Object.keys(t)));return t=Ig(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t,e){var n=X;if(n&48)return t(e);X|=1;try{if(t)return ur(99,t.bind(null,e))}finally{X=n,Qt()}};At.hydrate=function(t,e,n){if(!Hs(e))throw Error(j(200));return Ja(null,t,e,!0,n)};At.render=function(t,e,n){if(!Hs(e))throw Error(j(200));return Ja(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!Hs(t))throw Error(j(40));return t._reactRootContainer?(Dv(function(){Ja(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};At.unstable_batchedUpdates=Pv;At.unstable_createPortal=function(t,e){return xv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hs(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ja(t,e,n,!1,r)};At.version="17.0.2";function jv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jv)}catch(t){console.error(t)}}jv(),lg.exports=At;var t3=lg.exports;const n3=xs(t3);function r3(t){const e=t.notes.map((n,r)=>Ne.jsx("div",{children:Ne.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[Ne.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),Ne.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:Ne.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return Ne.jsxs("section",{className:"pane sidebar",children:[Ne.jsxs("div",{className:"sidebar--header",children:[Ne.jsx("h3",{children:"Notes"}),Ne.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var wl={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.getBreaksNeededForEmptyLineAfter=De.getBreaksNeededForEmptyLineBefore=De.selectWord=De.getSurroundingWord=void 0;function zv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}De.getSurroundingWord=zv;function i3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?zv(e,n.start):n}De.selectWord=i3;function s3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}De.getBreaksNeededForEmptyLineBefore=s3;function o3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}De.getBreaksNeededForEmptyLineAfter=o3;var _l={},qs={},fn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(fn,"__esModule",{value:!0});fn.classNames=void 0;function a3(t){return typeof t=="string"}function u3(t){return Array.isArray(t)&&t.length>0}function l3(t){return typeof t=="object"}function Fv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(a3(i))n.push(i);else if(u3(i)){var s=Fv.apply(null,i);s&&n.push(s)}else if(l3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}fn.classNames=Fv;Object.defineProperty(qs,"__esModule",{value:!0});qs.ToolbarButtonGroup=void 0;var c3=It,d3=fn,f3=function(t){return c3.createElement("ul",{className:d3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};qs.ToolbarButtonGroup=f3;var Ws={},Rr=te&&te.__assign||function(){return Rr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rr.apply(this,arguments)};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.ToolbarButton=void 0;var bp=It,h3={tabIndex:-1},p3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Rr(Rr({},h3),r||{}),l=e||"button";return bp.createElement("li",{className:"mde-header-item"},bp.createElement(l,Rr(Rr({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};Ws.ToolbarButton=p3;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.MdeFontAwesomeIcon=void 0;var m3=It,g3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return m3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};Ks.MdeFontAwesomeIcon=g3;var Za={},v3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Za,"__esModule",{value:!0});Za.Preview=void 0;var Co=It,y3=fn,w3=function(t){v3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,h=l.loading,_=h?s:c,v;typeof _=="string"?v=Co.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:_||"<p>&nbsp;</p>"},ref:o}):v=Co.createElement("div",{className:"mde-preview-content"},_);var T=i&&u?i+10+u:i+10;return Co.createElement("div",{className:y3.classNames("mde-preview",r,{loading:h}),style:{minHeight:T},"data-testid":"mde-preview"},v)},e}(Co.Component);Za.Preview=w3;var eu={},tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.getCaretCoordinates=void 0;var _3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Bv=typeof window<"u",S3=Bv&&window.mozInnerScreenX!=null;function E3(t,e){if(!Bv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",_3.forEach(function(u){r[u]=i[u]}),S3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}tu.getCaretCoordinates=E3;var Gs={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Gs,"__esModule",{value:!0});Gs.insertText=void 0;function k3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(C3(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,h=null,_=document.createRange();u&&(c===null||h===null);){var v=u.nodeValue.length;i>=l&&i<=l+v&&_.setStart(c=u,i-l),s>=l&&s<=l+v&&_.setEnd(h=u,s-l),l+=v,u=u.nextSibling}i!==s&&_.deleteContents(),_.insertNode(o)}}else{var T=t.value;t.value=T.slice(0,i)+e+T.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var A=document.createEvent("UIEvent");A.initEvent("input",!0,!1),t.dispatchEvent(A)}}Gs.insertText=k3;function C3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.mod=void 0;function b3(t,e){return(t%e+e)%e}nu.mod=b3;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.SuggestionsDropdown=void 0;var Tp=It,T3=fn,I3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(C){C.preventDefault();var y=parseInt(C.currentTarget.attributes["data-index"].value);i(y)},c=function(C){return C.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),_=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),v=r.left-u.current.scrollLeft,T=r.top-u.current.scrollTop,A={};return s&&T+u.current.getBoundingClientRect().top>_/2?A.bottom=u.current.offsetHeight-T:A.top=T,s&&v+u.current.getBoundingClientRect().left>h/2?A.right=u.current.offsetWidth-v:A.left=v,Tp.createElement("ul",{className:T3.classNames("mde-suggestions",e),style:A},n.map(function(C,y){return Tp.createElement("li",{onClick:l,onMouseDown:c,key:y,"aria-selected":o===y?"true":"false","data-index":""+y},C.preview)}))};Qs.SuggestionsDropdown=I3;var A3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=te&&te.__assign||function(){return pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pt.apply(this,arguments)};Object.defineProperty(eu,"__esModule",{value:!0});eu.TextArea=void 0;var bo=It,P3=fn,D3=tu,N3=Gs,M3=nu,O3=Qs,R3=function(t){A3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:pt(pt({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=D3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),N3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var _=o==="ArrowUp"?-1:1;r.setState({mention:pt(pt({},h),{focusIndex:M3.mod(h.focusIndex+_,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:pt(pt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var _=c.charAt(r.getTextArea().selectionStart-1),v=l.includes(c.charAt(r.getTextArea().selectionStart-1));v&&r.loadEmptySuggestion(i.currentTarget,_)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:pt(pt({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:pt(pt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,_=r.loadSuggestions,v=r.suggestionsDropdownClasses,T=r.textAreaComponent,A=r.onPaste,C=r.onDrop,y=h&&h.length&&_,m=this.state.mention,g=T||"textarea",b=u&&l?u+l:u;return bo.createElement("div",{className:"mde-textarea-wrapper"},bo.createElement(g,pt({className:P3.classNames("mde-text",i),style:{height:b},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),y&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),y&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),y&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),A(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),C(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&bo.createElement(O3.SuggestionsDropdown,{classes:v,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(bo.Component);eu.TextArea=R3;var ru={},L3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=te&&te.__assign||function(){return Lr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lr.apply(this,arguments)};Object.defineProperty(ru,"__esModule",{value:!0});ru.Toolbar=void 0;var Vn=It,Sl=fn,$3=qs,x3=Ws,j3=function(t){L3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,_=i.writeButtonProps,v=i.previewButtonProps,T=i.buttonProps;if((!u||u.length===0)&&!o)return null;var A=Vn.createElement("div",{className:"mde-tabs"},Vn.createElement("button",Lr({type:"button",className:Sl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},_),r.write),Vn.createElement("button",Lr({type:"button",className:Sl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},v),r.preview));return Vn.createElement("div",{className:Sl.classNames("mde-header",s)},!h&&A,u.map(function(C,y){return Vn.createElement($3.ToolbarButtonGroup,{key:y,hidden:n.props.tab==="preview"},C.map(function(m,g){return Vn.createElement(x3.ToolbarButton,{key:g,name:m.commandName,buttonContent:m.buttonContent,buttonProps:Lr(Lr({},T||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:c,buttonComponentClass:m.buttonComponentClass})}))}))},e}(Vn.Component);ru.Toolbar=j3;var Oi={},Ht={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.headerCommand=void 0;var z3=De;function F3(t,e,n){var r=z3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}iu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;F3(e,n,"### ")}};var su={};Object.defineProperty(su,"__esModule",{value:!0});su.boldCommand=void 0;var B3=De;su.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=B3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.italicCommand=void 0;var U3=De;ou.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=U3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var au={};Object.defineProperty(au,"__esModule",{value:!0});au.strikeThroughCommand=void 0;var V3=De;au.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=V3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.linkCommand=void 0;var H3=De;uu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=H3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.quoteCommand=void 0;var El=De;lu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=El.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=El.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=El.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.codeCommand=void 0;var kl=De;cu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=kl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=kl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=kl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var _=i.selection.start+u+4,v=_+i.selectedText.length;n.setSelectionRange({start:_,end:v})}};var Uv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=De;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,h){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var _=s(c,h);return u+=_.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),_=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),v=Array(_+1).join(`
`),T=n(l.selectedText,o);s.replaceSelection(""+h+T.modifiedText+v);var A=l.selectedText.indexOf(`
`)===-1?T.insertionLength:0,C=l.selection.start+c+A,y=C+T.modifiedText.length-A;s.setSelectionRange({start:C,end:y})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(Uv);var du={};Object.defineProperty(du,"__esModule",{value:!0});du.imageCommand=void 0;var q3=De;du.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(q3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var fu={},hu={},W3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},K3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(hu,"__esModule",{value:!0});hu.readFileAsync=void 0;function G3(t){return W3(this,void 0,void 0,function(){return K3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}hu.readFileAsync=G3;var Q3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},Y3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(fu,"__esModule",{value:!0});fu.saveImageCommand=void 0;var X3=hu,J3=De;function Ip(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function Z3(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function e8(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}fu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return Q3(this,void 0,void 0,function(){var i,s,o,u,l,c,h,_,v,T,A,C,y,m,g,b,a,f,d,p,w,S,E,I;return Y3(this,function(L){switch(L.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,h=t8(n)?Ip(s.clipboardData.items):n8(n)?Ip(s.dataTransfer.items):Z3(s.target.files),_=e8(h,{multiple:l,accept:c}),v=[];for(T in _)v.push(T);A=0,L.label=1;case 1:return A<v.length?(C=v[A],y=e.getState(),m=J3.getBreaksNeededForEmptyLineBefore(y.text,y.selection.start),g=Array(m+1).join(`
`),b=g+"!["+r.uploadingImage+"]()",e.replaceSelection(b),a=h[C],[4,X3.readFileAsync(a)]):[3,5];case 2:return f=L.sent(),d=u(f,a),[4,d.next()];case 3:p=L.sent().value,w=e.getState(),S=w.text.substr(y.selection.start,b.length),S===b&&(e.setSelectionRange({start:y.selection.start,end:y.selection.start+b.length}),E=p?g+"![image]("+p+")":"",I=E.length-b.length,e.replaceSelection(E),e.setSelectionRange({start:w.selection.start+I,end:w.selection.end+I})),L.label=4;case 4:return A++,[3,1];case 5:return[2]}})})}};function t8(t){return t.event.clipboardData!==void 0}function n8(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Ht,"__esModule",{value:!0});Ht.getDefaultSaveImageCommandName=Ht.getDefaultCommandMap=Ht.getDefaultToolbarCommands=void 0;var r8=iu,i8=su,s8=ou,o8=au,a8=uu,u8=lu,l8=cu,Cl=Uv,c8=du,d8=fu;function f8(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Ht.getDefaultToolbarCommands=f8;function h8(){return{header:r8.headerCommand,bold:i8.boldCommand,italic:s8.italicCommand,strikethrough:o8.strikeThroughCommand,link:a8.linkCommand,quote:u8.quoteCommand,code:l8.codeCommand,image:c8.imageCommand,"unordered-list":Cl.unorderedListCommand,"ordered-list":Cl.orderedListCommand,"checked-list":Cl.checkedListCommand,"save-image":d8.saveImageCommand}}Ht.getDefaultCommandMap=h8;function p8(){return"save-image"}Ht.getDefaultSaveImageCommandName=p8;var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.enL18n=void 0;pu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var of={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.SvgIcon=void 0;var Ce=It,m8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),g8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),v8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),y8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),w8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),_8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),S8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),E8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),k8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),C8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),b8=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),T8=function(t){var e=t.icon;switch(e){case"header":return C8;case"bold":return b8;case"italic":return k8;case"strikethrough":return E8;case"link":return S8;case"quote":return _8;case"code":return w8;case"image":return y8;case"unordered-list":return v8;case"ordered-list":return g8;case"checked-list":return m8;default:return null}};mu.SvgIcon=T8;(function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ks,t),n(mu,t)})(of);var Yt={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.extractKeyActivatedCommands=void 0;function I8(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}gu.extractKeyActivatedCommands=I8;var Ap;function A8(){if(Ap)return Yt;Ap=1;var t=te&&te.__assign||function(){return t=Object.assign||function(h){for(var _,v=1,T=arguments.length;v<T;v++){_=arguments[v];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(h[A]=_[A])}return h},t.apply(this,arguments)},e=te&&te.__awaiter||function(h,_,v,T){function A(C){return C instanceof v?C:new v(function(y){y(C)})}return new(v||(v=Promise))(function(C,y){function m(a){try{b(T.next(a))}catch(f){y(f)}}function g(a){try{b(T.throw(a))}catch(f){y(f)}}function b(a){a.done?C(a.value):A(a.value).then(m,g)}b((T=T.apply(h,_||[])).next())})},n=te&&te.__generator||function(h,_){var v={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},T,A,C,y;return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(b){return function(a){return g([b,a])}}function g(b){if(T)throw new TypeError("Generator is already executing.");for(;v;)try{if(T=1,A&&(C=b[0]&2?A.return:b[0]?A.throw||((C=A.return)&&C.call(A),0):A.next)&&!(C=C.call(A,b[1])).done)return C;switch(A=0,C&&(b=[b[0]&2,C.value]),b[0]){case 0:case 1:C=b;break;case 4:return v.label++,{value:b[1],done:!1};case 5:v.label++,A=b[1],b=[0];continue;case 7:b=v.ops.pop(),v.trys.pop();continue;default:if(C=v.trys,!(C=C.length>0&&C[C.length-1])&&(b[0]===6||b[0]===2)){v=0;continue}if(b[0]===3&&(!C||b[1]>C[0]&&b[1]<C[3])){v.label=b[1];break}if(b[0]===6&&v.label<C[1]){v.label=C[1],C=b;break}if(C&&v.label<C[2]){v.label=C[2],v.ops.push(b);break}C[2]&&v.ops.pop(),v.trys.pop();continue}b=_.call(h,v)}catch(a){b=[6,a],A=0}finally{T=C=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.CommandOrchestrator=Yt.getStateFromTextArea=Yt.TextAreaTextApi=void 0;var r=Hv(),i=Gs,s=gu,o=Ht,u=function(){function h(_){this.textAreaRef=_}return h.prototype.replaceSelection=function(_){var v=this.textAreaRef.current;return i.insertText(v,_),l(v)},h.prototype.setSelectionRange=function(_){var v=this.textAreaRef.current;return v.focus(),v.selectionStart=_.start,v.selectionEnd=_.end,l(v)},h.prototype.getState=function(){var _=this.textAreaRef.current;return l(_)},h}();Yt.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}Yt.getStateFromTextArea=l;var c=function(){function h(_,v,T,A){var C=this;if(this.getCommand=function(y){var m=C.commandMap[y];if(!m)throw new Error("Cannot execute command. Command not found: "+y);return m},this.handlePossibleKeyCommand=function(y){for(var m=0,g=C.keyActivatedCommands;m<g.length;m++){var b=g[m];if(C.getCommand(b).handleKeyCommand(y))return C.executeCommand(b).then(function(a){}),!0}return!1},A&&!A.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),_||{}),this.pasteOptions=A,this.keyActivatedCommands=s.extractKeyActivatedCommands(_),this.textAreaRef=v,this.textApi=new u(v),this.l18n=T}return h.prototype.executeCommand=function(_,v){return e(this,void 0,void 0,function(){var T,A;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,T=this.commandMap[_],A=T.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:v}),[4,A]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeDropCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeSelectImageCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.getCommandByName=function(_){return this.commandMap[_]},h}();return Yt.CommandOrchestrator=c,Yt}var Pp;function P8(){if(Pp)return Oi;Pp=1;var t=te&&te.__extends||function(){var T=function(A,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},T(A,C)};return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(A,C);function y(){this.constructor=A}A.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}}(),e=te&&te.__assign||function(){return e=Object.assign||function(T){for(var A,C=1,y=arguments.length;C<y;C++){A=arguments[C];for(var m in A)Object.prototype.hasOwnProperty.call(A,m)&&(T[m]=A[m])}return T},e.apply(this,arguments)},n=te&&te.__awaiter||function(T,A,C,y){function m(g){return g instanceof C?g:new C(function(b){b(g)})}return new(C||(C=Promise))(function(g,b){function a(p){try{d(y.next(p))}catch(w){b(w)}}function f(p){try{d(y.throw(p))}catch(w){b(w)}}function d(p){p.done?g(p.value):m(p.value).then(a,f)}d((y=y.apply(T,A||[])).next())})},r=te&&te.__generator||function(T,A){var C={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},y,m,g,b;return b={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function a(d){return function(p){return f([d,p])}}function f(d){if(y)throw new TypeError("Generator is already executing.");for(;C;)try{if(y=1,m&&(g=d[0]&2?m.return:d[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,d[1])).done)return g;switch(m=0,g&&(d=[d[0]&2,g.value]),d[0]){case 0:case 1:g=d;break;case 4:return C.label++,{value:d[1],done:!1};case 5:C.label++,m=d[1],d=[0];continue;case 7:d=C.ops.pop(),C.trys.pop();continue;default:if(g=C.trys,!(g=g.length>0&&g[g.length-1])&&(d[0]===6||d[0]===2)){C=0;continue}if(d[0]===3&&(!g||d[1]>g[0]&&d[1]<g[3])){C.label=d[1];break}if(d[0]===6&&C.label<g[1]){C.label=g[1],g=d;break}if(g&&C.label<g[2]){C.label=g[2],C.ops.push(d);break}g[2]&&C.ops.pop(),C.trys.pop();continue}d=A.call(T,C)}catch(p){d=[6,p],m=0}finally{y=g=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.ReactMde=void 0;var i=It,s=Vv(),o=Ht,u=pu,l=of,c=fn,h=A8(),_={accept:"image/*",multiple:!1},v=function(T){t(A,T);function A(C){var y,m=T.call(this,C)||this;m.handleTextChange=function(b){var a=m.props.onChange;a(b)},m.handlePaste=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(b)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(b)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(b)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(b){var a=m.props.onTabChange;a(b)},m.handleCommand=function(b){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(b)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},C.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},_),m.props.paste):void 0);var g=Math.min(C.maxEditorHeight,C.minEditorHeight);return m.state={editorHeight:(y=C.initialEditorHeight)!==null&&y!==void 0?y:g},m}return A.prototype.render=function(){var C=this,y,m,g=this.props,b=g.getIcon,a=g.toolbarCommands,f=g.classes,d=g.loadingPreview,p=g.readOnly,w=g.disablePreview,S=g.value,E=g.l18n,I=g.minPreviewHeight,L=g.heightUnits,D=g.childProps,M=g.selectedTab,O=g.generateMarkdownPreview,k=g.loadSuggestions,N=g.suggestionTriggerCharacters,B=g.textAreaComponent,U=D||{},se=a.map(function(P){return P.map(function(V){var W=C.commandOrchestrator.getCommand(V);return{commandName:V,buttonContent:W.icon?W.icon(b):b(V),buttonProps:W.buttonProps,buttonComponentClass:W.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:se,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:M,readOnly:p,disablePreview:w,l18n:E,buttonProps:U.commandButtons,writeButtonProps:U.writeButton,previewButtonProps:U.previewButton}),i.createElement("div",{className:c.classNames({invisible:M!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:B,textAreaProps:D&&D.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:S,suggestionTriggerCharacters:N,loadSuggestions:k,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(y=this.props.paste.accept)!==null&&y!==void 0?y:_.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:_.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,E.pasteDropSelect))),M!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:I,heightUnits:L,generateMarkdownPreview:O,markdown:S}))},A.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},A}(i.Component);return Oi.ReactMde=v,Oi}var Dp;function Vv(){return Dp||(Dp=1,function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(qs,t),n(Ws,t),n(Ks,t),n(Za,t),n(eu,t),n(ru,t),n(P8(),t),n(Qs,t)}(_l)),_l}var Np;function Hv(){return Np||(Np=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=De;t.MarkdownUtil=e;var n=Vv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=of;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Ht;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(wl)),wl}var D8=Hv();const N8=xs(D8);var qv={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var d={};for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p].defaultValue);return d}function n(){var a=e(!0),f={};for(var d in a)a.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,a);if(d.valid)s[a]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var S=d+" sub-extension "+w+": ",E=a[w];if(typeof E!="object")return p.valid=!1,p.error=S+"must be an object, but "+typeof E+" given",p;if(!r.helper.isString(E.type))return p.valid=!1,p.error=S+'property "type" must be a string, but '+typeof E.type+" given",p;var I=E.type=E.type.toLowerCase();if(I==="language"&&(I=E.type="lang"),I==="html"&&(I=E.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return p.valid=!1,p.error=S+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(I==="listener"){if(r.helper.isUndefined(E.listeners))return p.valid=!1,p.error=S+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(E.filter)&&r.helper.isUndefined(E.regex))return p.valid=!1,p.error=S+I+' extensions must define either a "regex" property or a "filter" method',p;if(E.listeners){if(typeof E.listeners!="object")return p.valid=!1,p.error=S+'"listeners" property must be an object but '+typeof E.listeners+" given",p;for(var L in E.listeners)if(E.listeners.hasOwnProperty(L)&&typeof E.listeners[L]!="function")return p.valid=!1,p.error=S+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+L+" must be a function but "+typeof E.listeners[L]+" given",p}if(E.filter){if(typeof E.filter!="function")return p.valid=!1,p.error=S+'"filter" must be a function, but '+typeof E.filter+" given",p}else if(E.regex){if(r.helper.isString(E.regex)&&(E.regex=new RegExp(E.regex,"g")),!(E.regex instanceof RegExp))return p.valid=!1,p.error=S+'"regex" property must either be a string or a RegExp object, but '+typeof E.regex+" given",p;if(r.helper.isUndefined(E.replace))return p.valid=!1,p.error=S+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=c(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var d=0;d<a.length;d++)f(a[d],d,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,d){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var _=function(a,f,d,p){var w=p||"",S=w.indexOf("g")>-1,E=new RegExp(f+"|"+d,"g"+w.replace(/g/g,"")),I=new RegExp(f,w.replace(/g/g,"")),L=[],D,M,O,k,N;do for(D=0;O=E.exec(a);)if(I.test(O[0]))D++||(M=E.lastIndex,k=M-O[0].length);else if(D&&!--D){N=O.index+O[0].length;var B={left:{start:k,end:M},match:{start:M,end:O.index},right:{start:O.index,end:N},wholeMatch:{start:k,end:N}};if(L.push(B),!S)return L}while(D&&(E.lastIndex=M));return L};r.helper.matchRecursiveRegExp=function(a,f,d,p){for(var w=_(a,f,d,p),S=[],E=0;E<w.length;++E)S.push([a.slice(w[E].wholeMatch.start,w[E].wholeMatch.end),a.slice(w[E].match.start,w[E].match.end),a.slice(w[E].left.start,w[E].left.end),a.slice(w[E].right.start,w[E].right.end)]);return S},r.helper.replaceRecursiveRegExp=function(a,f,d,p,w){if(!r.helper.isFunction(f)){var S=f;f=function(){return S}}var E=_(a,d,p,w),I=a,L=E.length;if(L>0){var D=[];E[0].wholeMatch.start!==0&&D.push(a.slice(0,E[0].wholeMatch.start));for(var M=0;M<L;++M)D.push(f(a.slice(E[M].wholeMatch.start,E[M].wholeMatch.end),a.slice(E[M].match.start,E[M].match.end),a.slice(E[M].left.start,E[M].left.end),a.slice(E[M].right.start,E[M].right.end))),M<L-1&&D.push(a.slice(E[M].wholeMatch.end,E[M+1].wholeMatch.start));E[L-1].wholeMatch.end<a.length&&D.push(a.slice(E[L-1].wholeMatch.end)),I=D.join("")}return I},r.helper.regexIndexOf=function(a,f,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(d||0).search(f);return p>=0?p+(d||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return a=a.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var p=Math.random();d=p>.9?f[2](d):p>.45?f[1](d):f[0](d)}return d}),a},r.helper.padEnd=function(f,d,p){return d=d>>0,p=String(p||" "),f.length>d?String(f):(d=d-f.length,d>p.length&&(p+=p.repeat(d/p.length)),String(f)+p.slice(0,d))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},d=[],p=[],w={},S=u,E={parsed:{},raw:"",format:""};I();function I(){a=a||{};for(var k in o)o.hasOwnProperty(k)&&(f[k]=o[k]);if(typeof a=="object")for(var N in a)a.hasOwnProperty(N)&&(f[N]=a[N]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,L)}function L(k,N){if(N=N||null,r.helper.isString(k))if(k=r.helper.stdExtName(k),N=k,r.extensions[k]){console.warn("DEPRECATION WARNING: "+k+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),D(r.extensions[k],k);return}else if(!r.helper.isUndefined(s[k]))k=s[k];else throw Error('Extension "'+k+'" could not be loaded. It was either not found or is not a valid extension.');typeof k=="function"&&(k=k()),r.helper.isArray(k)||(k=[k]);var B=c(k,N);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U){switch(k[U].type){case"lang":d.push(k[U]);break;case"output":p.push(k[U]);break}if(k[U].hasOwnProperty("listeners"))for(var se in k[U].listeners)k[U].listeners.hasOwnProperty(se)&&M(se,k[U].listeners[se])}}function D(k,N){typeof k=="function"&&(k=k(new r.Converter)),r.helper.isArray(k)||(k=[k]);var B=c(k,N);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U)switch(k[U].type){case"lang":d.push(k[U]);break;case"output":p.push(k[U]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(k,N){if(!r.helper.isString(k))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof k+" given");if(typeof N!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof N+" given");w.hasOwnProperty(k)||(w[k]=[]),w[k].push(N)}function O(k){var N=k.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+N+"}","gm");return k.replace(B,"")}this._dispatch=function(N,B,U,se){if(w.hasOwnProperty(N))for(var P=0;P<w[N].length;++P){var V=w[N][P](N,B,this,U,se);V&&typeof V<"u"&&(B=V)}return B},this.listen=function(k,N){return M(k,N),this},this.makeHtml=function(k){if(!k)return k;var N={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return k=k.replace(//g,"T"),k=k.replace(/\$/g,"D"),k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(k=O(k)),k=`

`+k+`

`,k=r.subParser("detab")(k,f,N),k=k.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(B){k=r.subParser("runExtension")(B,k,f,N)}),k=r.subParser("metadata")(k,f,N),k=r.subParser("hashPreCodeTags")(k,f,N),k=r.subParser("githubCodeBlocks")(k,f,N),k=r.subParser("hashHTMLBlocks")(k,f,N),k=r.subParser("hashCodeTags")(k,f,N),k=r.subParser("stripLinkDefinitions")(k,f,N),k=r.subParser("blockGamut")(k,f,N),k=r.subParser("unhashHTMLSpans")(k,f,N),k=r.subParser("unescapeSpecialChars")(k,f,N),k=k.replace(/D/g,"$$"),k=k.replace(/T/g,""),k=r.subParser("completeHTMLDocument")(k,f,N),r.helper.forEach(p,function(B){k=r.subParser("runExtension")(B,k,f,N)}),E=N.metadata,k},this.makeMarkdown=this.makeMd=function(k,N){if(k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/>[ \t]+</,">NBSP;<"),!N)if(window&&window.document)N=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=N.createElement("div");B.innerHTML=k;var U={preList:re(B)};W(B);for(var se=B.childNodes,P="",V=0;V<se.length;V++)P+=r.subParser("makeMarkdown.node")(se[V],U);function W(ie){for(var he=0;he<ie.childNodes.length;++he){var we=ie.childNodes[he];we.nodeType===3?/\S/.test(we.nodeValue)?(we.nodeValue=we.nodeValue.split(`
`).join(" "),we.nodeValue=we.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(we),--he):we.nodeType===1&&W(we)}}function re(ie){for(var he=ie.querySelectorAll("pre"),we=[],z=0;z<he.length;++z)if(he[z].childElementCount===1&&he[z].firstChild.tagName.toLowerCase()==="code"){var R=he[z].firstChild.innerHTML.trim(),F=he[z].firstChild.getAttribute("data-language")||"";if(F==="")for(var G=he[z].firstChild.className.split(" "),Te=0;Te<G.length;++Te){var _e=G[Te].match(/^language-(.+)$/);if(_e!==null){F=_e[1];break}}R=r.helper.unescapeHTMLEntities(R),we.push(R),he[z].outerHTML='<precode language="'+F+'" precodenum="'+z.toString()+'"></precode>'}else we.push(he[z].innerHTML),he[z].innerHTML="",he[z].setAttribute("prenum",z.toString());return we}return P},this.setOption=function(k,N){f[k]=N},this.getOption=function(k){return f[k]},this.getOptions=function(){return f},this.addExtension=function(k,N){N=N||null,L(k,N)},this.useExtension=function(k){L(k)},this.setFlavor=function(k){if(!l.hasOwnProperty(k))throw Error(k+" flavor was not found");var N=l[k];S=k;for(var B in N)N.hasOwnProperty(B)&&(f[B]=N[B])},this.getFlavor=function(){return S},this.removeExtension=function(k){r.helper.isArray(k)||(k=[k]);for(var N=0;N<k.length;++N){for(var B=k[N],U=0;U<d.length;++U)d[U]===B&&d[U].splice(U,1);for(var se=0;se<p.length;++U)p[se]===B&&p[se].splice(U,1)}},this.getAllExtensions=function(){return{language:d,output:p}},this.getMetadata=function(k){return k?E.raw:E.parsed},this.getMetadataFormat=function(){return E.format},this._setMetadataPair=function(k,N){E.parsed[k]=N},this._setMetadataFormat=function(k){E.format=k},this._setMetadataRaw=function(k){E.raw=k}},r.subParser("anchors",function(a,f,d){a=d.converter._dispatch("anchors.before",a,f,d);var p=function(w,S,E,I,L,D,M){if(r.helper.isUndefined(M)&&(M=""),E=E.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(E||(E=S.toLowerCase().replace(/ ?\n/g," ")),I="#"+E,!r.helper.isUndefined(d.gUrls[E]))I=d.gUrls[E],r.helper.isUndefined(d.gTitles[E])||(M=d.gTitles[E]);else return w;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O='<a href="'+I+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),O+=' title="'+M+'"'),f.openLinksInNewWindow&&!/^#/.test(I)&&(O+=' rel="noopener noreferrer" target="E95Eblank"'),O+=">"+S+"</a>",O};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,S,E,I,L){if(E==="\\")return S+I;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var D=f.ghMentionsLink.replace(/\{u}/g,L),M="";return f.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),S+'<a href="'+D+'"'+M+">"+I+"</a>"})),a=d.converter._dispatch("anchors.after",a,f,d),a});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,A=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,d,p,w,S,E,I){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var L=p,D="",M="",O=d||"",k=I||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&E&&(D=E),a.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),O+'<a href="'+p+'"'+M+">"+L+"</a>"+D+k}},g=function(a,f){return function(d,p,w){var S="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,f),a.encodeEmails?(S=r.helper.encodeEmailAddress(S+w),w=r.helper.encodeEmailAddress(w)):S=S+w,p+'<a href="'+S+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,f,d){return a=d.converter._dispatch("autoLinks.before",a,f,d),a=a.replace(A,m(f)),a=a.replace(y,g(f,d)),a=d.converter._dispatch("autoLinks.after",a,f,d),a}),r.subParser("simplifiedAutoLinks",function(a,f,d){return f.simplifiedAutoLink&&(a=d.converter._dispatch("simplifiedAutoLinks.before",a,f,d),f.excludeTrailingPunctuationFromURLs?a=a.replace(T,m(f)):a=a.replace(v,m(f)),a=a.replace(C,g(f,d)),a=d.converter._dispatch("simplifiedAutoLinks.after",a,f,d)),a}),r.subParser("blockGamut",function(a,f,d){return a=d.converter._dispatch("blockGamut.before",a,f,d),a=r.subParser("blockQuotes")(a,f,d),a=r.subParser("headers")(a,f,d),a=r.subParser("horizontalRule")(a,f,d),a=r.subParser("lists")(a,f,d),a=r.subParser("codeBlocks")(a,f,d),a=r.subParser("tables")(a,f,d),a=r.subParser("hashHTMLBlocks")(a,f,d),a=r.subParser("paragraphs")(a,f,d),a=d.converter._dispatch("blockGamut.after",a,f,d),a}),r.subParser("blockQuotes",function(a,f,d){a=d.converter._dispatch("blockQuotes.before",a,f,d),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,f,d),w=r.subParser("blockGamut")(w,f,d),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(S,E){var I=E;return I=I.replace(/^  /mg,"0"),I=I.replace(/0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,f,d)}),a=d.converter._dispatch("blockQuotes.after",a,f,d),a}),r.subParser("codeBlocks",function(a,f,d){a=d.converter._dispatch("codeBlocks.before",a,f,d),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(w,S,E){var I=S,L=E,D=`
`;return I=r.subParser("outdent")(I,f,d),I=r.subParser("encodeCode")(I,f,d),I=r.subParser("detab")(I,f,d),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(D=""),I="<pre><code>"+I+D+"</code></pre>",r.subParser("hashBlock")(I,f,d)+L}),a=a.replace(/0/,""),a=d.converter._dispatch("codeBlocks.after",a,f,d),a}),r.subParser("codeSpans",function(a,f,d){return a=d.converter._dispatch("codeSpans.before",a,f,d),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,S,E){var I=E;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,f,d),I=w+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,f,d),I}),a=d.converter._dispatch("codeSpans.after",a,f,d),a}),r.subParser("completeHTMLDocument",function(a,f,d){if(!f.completeHTMLDocument)return a;a=d.converter._dispatch("completeHTMLDocument.before",a,f,d);var p="html",w=`<!DOCTYPE HTML>
`,S="",E=`<meta charset="utf-8">
`,I="",L="";typeof d.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,p=d.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(E='<meta charset="utf-8">'));for(var D in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(D))switch(D.toLowerCase()){case"doctype":break;case"title":S="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?E='<meta charset="'+d.metadata.parsed.charset+`">
`:E='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+d.metadata.parsed[D]+'"',L+='<meta name="'+D+'" content="'+d.metadata.parsed[D]+`">
`;break;default:L+='<meta name="'+D+'" content="'+d.metadata.parsed[D]+`">
`}return a=w+"<html"+I+`>
<head>
`+S+E+L+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=d.converter._dispatch("completeHTMLDocument.after",a,f,d),a}),r.subParser("detab",function(a,f,d){return a=d.converter._dispatch("detab.before",a,f,d),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,w){for(var S=w,E=4-S.length%4,I=0;I<E;I++)S+=" ";return S}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=d.converter._dispatch("detab.after",a,f,d),a}),r.subParser("ellipsis",function(a,f,d){return a=d.converter._dispatch("ellipsis.before",a,f,d),a=a.replace(/\.\.\./g,""),a=d.converter._dispatch("ellipsis.after",a,f,d),a}),r.subParser("emoji",function(a,f,d){if(!f.emoji)return a;a=d.converter._dispatch("emoji.before",a,f,d);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,S){return r.helper.emojis.hasOwnProperty(S)?r.helper.emojis[S]:w}),a=d.converter._dispatch("emoji.after",a,f,d),a}),r.subParser("encodeAmpsAndAngles",function(a,f,d){return a=d.converter._dispatch("encodeAmpsAndAngles.before",a,f,d),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.converter._dispatch("encodeAmpsAndAngles.after",a,f,d),a}),r.subParser("encodeBackslashEscapes",function(a,f,d){return a=d.converter._dispatch("encodeBackslashEscapes.before",a,f,d),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeBackslashEscapes.after",a,f,d),a}),r.subParser("encodeCode",function(a,f,d){return a=d.converter._dispatch("encodeCode.before",a,f,d),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeCode.after",a,f,d),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,d){a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,d);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(S){return S.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(S){return S.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,d),a}),r.subParser("githubCodeBlocks",function(a,f,d){return f.ghCodeBlocks?(a=d.converter._dispatch("githubCodeBlocks.before",a,f,d),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,S,E){var I=f.omitExtraWLInCodeBlocks?"":`
`;return E=r.subParser("encodeCode")(E,f,d),E=r.subParser("detab")(E,f,d),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),E="<pre><code"+(S?' class="'+S+" language-"+S+'"':"")+">"+E+I+"</code></pre>",E=r.subParser("hashBlock")(E,f,d),`

G`+(d.ghCodeBlocks.push({text:p,codeblock:E})-1)+`G

`}),a=a.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",a,f,d)):a}),r.subParser("hashBlock",function(a,f,d){return a=d.converter._dispatch("hashBlock.before",a,f,d),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(d.gHtmlBlocks.push(a)-1)+`K

`,a=d.converter._dispatch("hashBlock.after",a,f,d),a}),r.subParser("hashCodeTags",function(a,f,d){a=d.converter._dispatch("hashCodeTags.before",a,f,d);var p=function(w,S,E,I){var L=E+r.subParser("encodeCode")(S,f,d)+I;return"C"+(d.gHtmlSpans.push(L)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=d.converter._dispatch("hashCodeTags.after",a,f,d),a}),r.subParser("hashElement",function(a,f,d){return function(p,w){var S=w;return S=S.replace(/\n\n/g,`
`),S=S.replace(/^\n/,""),S=S.replace(/\n+$/g,""),S=`

K`+(d.gHtmlBlocks.push(S)-1)+`K

`,S}}),r.subParser("hashHTMLBlocks",function(a,f,d){a=d.converter._dispatch("hashHTMLBlocks.before",a,f,d);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(k,N,B,U){var se=k;return B.search(/\bmarkdown\b/)!==-1&&(se=B+d.converter.makeHtml(N)+U),`

K`+(d.gHtmlBlocks.push(se)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(k,N){return"&lt;"+N+"&gt;"}));for(var S=0;S<p.length;++S)for(var E,I=new RegExp("^ {0,3}(<"+p[S]+"\\b[^>]*>)","im"),L="<"+p[S]+"\\b[^>]*>",D="</"+p[S]+">";(E=r.helper.regexIndexOf(a,I))!==-1;){var M=r.helper.splitAtIndex(a,E),O=r.helper.replaceRecursiveRegExp(M[1],w,L,D,"im");if(O===M[1])break;a=M[0].concat(O)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=r.helper.replaceRecursiveRegExp(a,function(k){return`

K`+(d.gHtmlBlocks.push(k)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=d.converter._dispatch("hashHTMLBlocks.after",a,f,d),a}),r.subParser("hashHTMLSpans",function(a,f,d){a=d.converter._dispatch("hashHTMLSpans.before",a,f,d);function p(w){return"C"+(d.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=d.converter._dispatch("hashHTMLSpans.after",a,f,d),a}),r.subParser("unhashHTMLSpans",function(a,f,d){a=d.converter._dispatch("unhashHTMLSpans.before",a,f,d);for(var p=0;p<d.gHtmlSpans.length;++p){for(var w=d.gHtmlSpans[p],S=0;/C(\d+)C/.test(w);){var E=RegExp.$1;if(w=w.replace("C"+E+"C",d.gHtmlSpans[E]),S===10){console.error("maximum nesting of 10 spans reached!!!");break}++S}a=a.replace("C"+p+"C",w)}return a=d.converter._dispatch("unhashHTMLSpans.after",a,f,d),a}),r.subParser("hashPreCodeTags",function(a,f,d){a=d.converter._dispatch("hashPreCodeTags.before",a,f,d);var p=function(w,S,E,I){var L=E+r.subParser("encodeCode")(S,f,d)+I;return`

G`+(d.ghCodeBlocks.push({text:w,codeblock:L})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=d.converter._dispatch("hashPreCodeTags.after",a,f,d),a}),r.subParser("headers",function(a,f,d){a=d.converter._dispatch("headers.before",a,f,d);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),w=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,S=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(L,D){var M=r.subParser("spanGamut")(D,f,d),O=f.noHeaderId?"":' id="'+I(D)+'"',k=p,N="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(N,f,d)}),a=a.replace(S,function(L,D){var M=r.subParser("spanGamut")(D,f,d),O=f.noHeaderId?"":' id="'+I(D)+'"',k=p+1,N="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(N,f,d)});var E=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(E,function(L,D,M){var O=M;f.customizedHeaderId&&(O=M.replace(/\s?\{([^{]+?)}\s*$/,""));var k=r.subParser("spanGamut")(O,f,d),N=f.noHeaderId?"":' id="'+I(M)+'"',B=p-1+D.length,U="<h"+B+N+">"+k+"</h"+B+">";return r.subParser("hashBlock")(U,f,d)});function I(L){var D,M;if(f.customizedHeaderId){var O=L.match(/\{([^{]+?)}\s*$/);O&&O[1]&&(L=O[1])}return D=L,r.helper.isString(f.prefixHeaderId)?M=f.prefixHeaderId:f.prefixHeaderId===!0?M="section-":M="",f.rawPrefixHeaderId||(D=M+D),f.ghCompatibleHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():D=D.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(D=M+D),d.hashLinkCounts[D]?D=D+"-"+d.hashLinkCounts[D]++:d.hashLinkCounts[D]=1,D}return a=d.converter._dispatch("headers.after",a,f,d),a}),r.subParser("horizontalRule",function(a,f,d){a=d.converter._dispatch("horizontalRule.before",a,f,d);var p=r.subParser("hashBlock")("<hr />",f,d);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=d.converter._dispatch("horizontalRule.after",a,f,d),a}),r.subParser("images",function(a,f,d){a=d.converter._dispatch("images.before",a,f,d);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,E=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function L(M,O,k,N,B,U,se,P){return N=N.replace(/\s/g,""),D(M,O,k,N,B,U,se,P)}function D(M,O,k,N,B,U,se,P){var V=d.gUrls,W=d.gTitles,re=d.gDimensions;if(k=k.toLowerCase(),P||(P=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(N===""||N===null)if((k===""||k===null)&&(k=O.toLowerCase().replace(/ ?\n/g," ")),N="#"+k,!r.helper.isUndefined(V[k]))N=V[k],r.helper.isUndefined(W[k])||(P=W[k]),r.helper.isUndefined(re[k])||(B=re[k].width,U=re[k].height);else return M;O=O.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+N+'" alt="'+O+'"';return P&&r.helper.isString(P)&&(P=P.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+P+'"'),B&&U&&(B=B==="*"?"auto":B,U=U==="*"?"auto":U,ie+=' width="'+B+'"',ie+=' height="'+U+'"'),ie+=" />",ie}return a=a.replace(E,D),a=a.replace(S,L),a=a.replace(w,D),a=a.replace(p,D),a=a.replace(I,D),a=d.converter._dispatch("images.after",a,f,d),a}),r.subParser("italicsAndBold",function(a,f,d){a=d.converter._dispatch("italicsAndBold.before",a,f,d);function p(w,S,E){return S+w+E}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,S){return p(S,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,S){return p(S,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,S){return p(S,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,S){return/\S$/.test(S)?p(S,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,S){return/\S$/.test(S)?p(S,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,S){return/\S$/.test(S)?p(S,"<em>","</em>"):w})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,S,E){return p(E,S+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,S,E){return p(E,S+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,S,E){return p(E,S+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,S){return/\S$/.test(S)?p(S,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,S){return/\S$/.test(S)?p(S,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,S){return/\S$/.test(S)?p(S,"<em>","</em>"):w})),a=d.converter._dispatch("italicsAndBold.after",a,f,d),a}),r.subParser("lists",function(a,f,d){function p(E,I){d.gListLevel++,E=E.replace(/\n{2,}$/,`
`),E+="0";var L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,D=/\n[ \t]*\n(?!0)/.test(E);return f.disableForced4SpacesIndentedSublists&&(L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),E=E.replace(L,function(M,O,k,N,B,U,se){se=se&&se.trim()!=="";var P=r.subParser("outdent")(B,f,d),V="";return U&&f.tasklists&&(V=' class="task-list-item" style="list-style-type: none;"',P=P.replace(/^[ \t]*\[(x|X| )?]/m,function(){var W='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(W+=" checked"),W+=">",W})),P=P.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(W){return"A"+W}),O||P.search(/\n{2,}/)>-1?(P=r.subParser("githubCodeBlocks")(P,f,d),P=r.subParser("blockGamut")(P,f,d)):(P=r.subParser("lists")(P,f,d),P=P.replace(/\n$/,""),P=r.subParser("hashHTMLBlocks")(P,f,d),P=P.replace(/\n\n+/g,`

`),D?P=r.subParser("paragraphs")(P,f,d):P=r.subParser("spanGamut")(P,f,d)),P=P.replace("A",""),P="<li"+V+">"+P+`</li>
`,P}),E=E.replace(/0/g,""),d.gListLevel--,I&&(E=E.replace(/\s+$/,"")),E}function w(E,I){if(I==="ol"){var L=E.match(/^ *(\d+)\./);if(L&&L[1]!=="1")return' start="'+L[1]+'"'}return""}function S(E,I,L){var D=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,O=I==="ul"?D:M,k="";if(E.search(O)!==-1)(function B(U){var se=U.search(O),P=w(E,I);se!==-1?(k+=`

<`+I+P+`>
`+p(U.slice(0,se),!!L)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",O=I==="ul"?D:M,B(U.slice(se))):k+=`

<`+I+P+`>
`+p(U,!!L)+"</"+I+`>
`})(E);else{var N=w(E,I);k=`

<`+I+N+`>
`+p(E,!!L)+"</"+I+`>
`}return k}return a=d.converter._dispatch("lists.before",a,f,d),a+="0",d.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(E,I,L){var D=L.search(/[*+-]/g)>-1?"ul":"ol";return S(I,D,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(E,I,L,D){var M=D.search(/[*+-]/g)>-1?"ul":"ol";return S(L,M,!1)}),a=a.replace(/0/,""),a=d.converter._dispatch("lists.after",a,f,d),a}),r.subParser("metadata",function(a,f,d){if(!f.metadata)return a;a=d.converter._dispatch("metadata.before",a,f,d);function p(w){d.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(S,E,I){return d.metadata.parsed[E]=I,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(w,S,E){return p(E),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,S,E){return S&&(d.metadata.format=S),p(E),"M"}),a=a.replace(/M/g,""),a=d.converter._dispatch("metadata.after",a,f,d),a}),r.subParser("outdent",function(a,f,d){return a=d.converter._dispatch("outdent.before",a,f,d),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=d.converter._dispatch("outdent.after",a,f,d),a}),r.subParser("paragraphs",function(a,f,d){a=d.converter._dispatch("paragraphs.before",a,f,d),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],S=p.length,E=0;E<S;E++){var I=p[E];I.search(/(K|G)(\d+)\1/g)>=0?w.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,f,d),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",w.push(I))}for(S=w.length,E=0;E<S;E++){for(var L="",D=w[E],M=!1;/(K|G)(\d+)\1/.test(D);){var O=RegExp.$1,k=RegExp.$2;O==="K"?L=d.gHtmlBlocks[k]:M?L=r.subParser("encodeCode")(d.ghCodeBlocks[k].text,f,d):L=d.ghCodeBlocks[k].codeblock,L=L.replace(/\$/g,"$$$$"),D=D.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,L),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(D)&&(M=!0)}w[E]=D}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",a,f,d)}),r.subParser("runExtension",function(a,f,d,p){if(a.filter)f=a.filter(f,p.converter,d);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),f=f.replace(w,a.replace)}return f}),r.subParser("spanGamut",function(a,f,d){return a=d.converter._dispatch("spanGamut.before",a,f,d),a=r.subParser("codeSpans")(a,f,d),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,d),a=r.subParser("encodeBackslashEscapes")(a,f,d),a=r.subParser("images")(a,f,d),a=r.subParser("anchors")(a,f,d),a=r.subParser("autoLinks")(a,f,d),a=r.subParser("simplifiedAutoLinks")(a,f,d),a=r.subParser("emoji")(a,f,d),a=r.subParser("underline")(a,f,d),a=r.subParser("italicsAndBold")(a,f,d),a=r.subParser("strikethrough")(a,f,d),a=r.subParser("ellipsis")(a,f,d),a=r.subParser("hashHTMLSpans")(a,f,d),a=r.subParser("encodeAmpsAndAngles")(a,f,d),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=d.converter._dispatch("spanGamut.after",a,f,d),a}),r.subParser("strikethrough",function(a,f,d){function p(w){return f.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,f,d)),"<del>"+w+"</del>"}return f.strikethrough&&(a=d.converter._dispatch("strikethrough.before",a,f,d),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,S){return p(S)}),a=d.converter._dispatch("strikethrough.after",a,f,d)),a}),r.subParser("stripLinkDefinitions",function(a,f,d){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var S=function(E,I,L,D,M,O,k){return I=I.toLowerCase(),L.match(/^data:.+?\/.+?;base64,/)?d.gUrls[I]=L.replace(/\s/g,""):d.gUrls[I]=r.subParser("encodeAmpsAndAngles")(L,f,d),O?O+k:(k&&(d.gTitles[I]=k.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&D&&M&&(d.gDimensions[I]={width:D,height:M}),"")};return a=a.replace(w,S),a=a.replace(p,S),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,d){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function S(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function E(M,O){var k="";return M=M.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(k=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=r.subParser("spanGamut")(M,f,d),"<th"+k+O+">"+M+`</th>
`}function I(M,O){var k=r.subParser("spanGamut")(M,f,d);return"<td"+O+">"+k+`</td>
`}function L(M,O){for(var k=`<table>
<thead>
<tr>
`,N=M.length,B=0;B<N;++B)k+=M[B];for(k+=`</tr>
</thead>
<tbody>
`,B=0;B<O.length;++B){k+=`<tr>
`;for(var U=0;U<N;++U)k+=O[B][U];k+=`</tr>
`}return k+=`</tbody>
</table>
`,k}function D(M){var O,k=M.split(`
`);for(O=0;O<k.length;++O)/^ {0,3}\|/.test(k[O])&&(k[O]=k[O].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(k[O])&&(k[O]=k[O].replace(/\|[ \t]*$/,"")),k[O]=r.subParser("codeSpans")(k[O],f,d);var N=k[0].split("|").map(function(ie){return ie.trim()}),B=k[1].split("|").map(function(ie){return ie.trim()}),U=[],se=[],P=[],V=[];for(k.shift(),k.shift(),O=0;O<k.length;++O)k[O].trim()!==""&&U.push(k[O].split("|").map(function(ie){return ie.trim()}));if(N.length<B.length)return M;for(O=0;O<B.length;++O)P.push(S(B[O]));for(O=0;O<N.length;++O)r.helper.isUndefined(P[O])&&(P[O]=""),se.push(E(N[O],P[O]));for(O=0;O<U.length;++O){for(var W=[],re=0;re<se.length;++re)r.helper.isUndefined(U[O][re]),W.push(I(U[O][re],P[re]));V.push(W)}return L(se,V)}return a=d.converter._dispatch("tables.before",a,f,d),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,D),a=a.replace(w,D),a=d.converter._dispatch("tables.after",a,f,d),a}),r.subParser("underline",function(a,f,d){return f.underline&&(a=d.converter._dispatch("underline.before",a,f,d),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("underline.after",a,f,d)),a}),r.subParser("unescapeSpecialChars",function(a,f,d){return a=d.converter._dispatch("unescapeSpecialChars.before",a,f,d),a=a.replace(/E(\d+)E/g,function(p,w){var S=parseInt(w);return String.fromCharCode(S)}),a=d.converter._dispatch("unescapeSpecialChars.after",a,f,d),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,S=0;S<w;++S){var E=r.subParser("makeMarkdown.node")(p[S],f);E!==""&&(d+=E)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(a,f){var d=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+d+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var d="";if(a.hasChildNodes()){d+="*";for(var p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(a,f,d){var p=new Array(d+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var S=a.childNodes,E=S.length,I=0;I<E;++I)w+=r.subParser("makeMarkdown.node")(S[I],f)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var d="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;d="[";for(var S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="](",d+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(a,f,d){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,S=w.length,E=a.getAttribute("start")||1,I=0;I<S;++I)if(!(typeof w[I].tagName>"u"||w[I].tagName.toLowerCase()!=="li")){var L="";d==="ol"?L=E.toString()+". ":L="- ",p+=L+r.subParser("makeMarkdown.listItem")(w[I],f),++E}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var d="",p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(a,f,d){d=d||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":d||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":d||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":d||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":d||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":d||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":d||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":d||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":d||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":d||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":d||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":d||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":d||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":d||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":d||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(a,f){var d=a.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var d="";if(a.hasChildNodes()){d+="~~";for(var p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(a,f){var d="";if(a.hasChildNodes()){d+="**";for(var p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(a,f){var d="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),S=a.querySelectorAll("tbody>tr"),E,I;for(E=0;E<w.length;++E){var L=r.subParser("makeMarkdown.tableCell")(w[E],f),D="---";if(w[E].hasAttribute("style")){var M=w[E].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":D=":---";break;case"text-align:right;":D="---:";break;case"text-align:center;":D=":---:";break}}p[0][E]=L.trim(),p[1][E]=D}for(E=0;E<S.length;++E){var O=p.push([])-1,k=S[E].getElementsByTagName("td");for(I=0;I<w.length;++I){var N=" ";typeof k[I]<"u"&&(N=r.subParser("makeMarkdown.tableCell")(k[I],f)),p[O].push(N)}}var B=3;for(E=0;E<p.length;++E)for(I=0;I<p[E].length;++I){var U=p[E][I].length;U>B&&(B=U)}for(E=0;E<p.length;++E){for(I=0;I<p[E].length;++I)E===1?p[E][I].slice(-1)===":"?p[E][I]=r.helper.padEnd(p[E][I].slice(-1),B-1,"-")+":":p[E][I]=r.helper.padEnd(p[E][I],B,"-"):p[E][I]=r.helper.padEnd(p[E][I],B);d+="| "+p[E].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var d="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,S=0;S<w;++S)d+=r.subParser("makeMarkdown.node")(p[S],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var b=this;t.exports?t.exports=r:b.showdown=r}).call(te)})(qv);var M8=qv.exports;const O8=xs(M8),R8=N8.default;function L8({currentNote:t,updateNote:e}){const[n,r]=Wn.useState("write"),i=new O8.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Ne.jsx("section",{className:"pane editor",children:Ne.jsx(R8,{value:t==null?void 0:t.body,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var Wv={exports:{}},$8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x8=$8,j8=x8;function Kv(){}function Gv(){}Gv.resetWarningCache=Kv;var z8=function(){function t(r,i,s,o,u,l){if(l!==j8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Gv,resetWarningCache:Kv};return n.PropTypes=n,n};Wv.exports=z8();var F8=Wv.exports;const de=xs(F8);var wt=typeof window<"u"?window:null,af=wt===null,ks=af?void 0:wt.document,Dt="addEventListener",Nt="removeEventListener",bl="getBoundingClientRect",Ri="_a",Mt="_b",Xt="_c",To="horizontal",Ot=function(){return!1},B8=af?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=ks.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Qv=function(t){return typeof t=="string"||t instanceof String},Mp=function(t){if(Qv(t)){var e=ks.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ke=function(t,e,n){var r=t[e];return r!==void 0?r:n},Io=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},U8=function(t,e){var n=ks.createElement("div");return n.className="gutter gutter-"+e,n},V8=function(t,e,n){var r={};return Qv(e)?r[t]=e:r[t]=B8+"("+e+"% - "+n+"px)",r},H8=function(t,e){var n;return n={},n[t]=e+"px",n},Op=function(t,e){if(e===void 0&&(e={}),af)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=Mp(n[0]),h=c.parentNode,_=getComputedStyle?getComputedStyle(h):null,v=_?_.flexDirection:null,T=Ke(e,"sizes")||n.map(function(){return 100/n.length}),A=Ke(e,"minSize",100),C=Array.isArray(A)?A:n.map(function(){return A}),y=Ke(e,"maxSize",1/0),m=Array.isArray(y)?y:n.map(function(){return y}),g=Ke(e,"expandToMin",!1),b=Ke(e,"gutterSize",10),a=Ke(e,"gutterAlign","center"),f=Ke(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),p=Ke(e,"dragInterval",1),w=Ke(e,"direction",To),S=Ke(e,"cursor",w===To?"col-resize":"row-resize"),E=Ke(e,"gutter",U8),I=Ke(e,"elementStyle",V8),L=Ke(e,"gutterStyle",H8);w===To?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function D(z,R,F,G){var Te=I(r,R,F,G);Object.keys(Te).forEach(function(_e){z.style[_e]=Te[_e]})}function M(z,R,F){var G=L(r,R,F);Object.keys(G).forEach(function(Te){z.style[Te]=G[Te]})}function O(){return l.map(function(z){return z.size})}function k(z){return"touches"in z?z.touches[0][i]:z[i]}function N(z){var R=l[this.a],F=l[this.b],G=R.size+F.size;R.size=z/this.size*G,F.size=G-z/this.size*G,D(R.element,R.size,this[Mt],R.i),D(F.element,F.size,this[Xt],F.i)}function B(z){var R,F=l[this.a],G=l[this.b];this.dragging&&(R=k(z)-this.start+(this[Mt]-this.dragOffset),p>1&&(R=Math.round(R/p)*p),R<=F.minSize+F.snapOffset+this[Mt]?R=F.minSize+this[Mt]:R>=this.size-(G.minSize+G.snapOffset+this[Xt])&&(R=this.size-(G.minSize+this[Xt])),R>=F.maxSize-F.snapOffset+this[Mt]?R=F.maxSize+this[Mt]:R<=this.size-(G.maxSize-G.snapOffset+this[Xt])&&(R=this.size-(G.maxSize+this[Xt])),N.call(this,R),Ke(e,"onDrag",Ot)(O()))}function U(){var z=l[this.a].element,R=l[this.b].element,F=z[bl](),G=R[bl]();this.size=F[r]+G[r]+this[Mt]+this[Xt],this.start=F[s],this.end=F[o]}function se(z){if(!getComputedStyle)return null;var R=getComputedStyle(z);if(!R)return null;var F=z[u];return F===0?null:(w===To?F-=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight):F-=parseFloat(R.paddingTop)+parseFloat(R.paddingBottom),F)}function P(z){var R=se(h);if(R===null||C.reduce(function(_e,ht){return _e+ht},0)>R)return z;var F=0,G=[],Te=z.map(function(_e,ht){var Un=R*_e/100,lo=Io(b,ht===0,ht===z.length-1,a),co=C[ht]+lo;return Un<co?(F+=co-Un,G.push(0),co):(G.push(Un-co),Un)});return F===0?z:Te.map(function(_e,ht){var Un=_e;if(F>0&&G[ht]-F>0){var lo=Math.min(F,G[ht]-F);F-=lo,Un=_e-lo}return Un/R*100})}function V(){var z=this,R=l[z.a].element,F=l[z.b].element;z.dragging&&Ke(e,"onDragEnd",Ot)(O()),z.dragging=!1,wt[Nt]("mouseup",z.stop),wt[Nt]("touchend",z.stop),wt[Nt]("touchcancel",z.stop),wt[Nt]("mousemove",z.move),wt[Nt]("touchmove",z.move),z.stop=null,z.move=null,R[Nt]("selectstart",Ot),R[Nt]("dragstart",Ot),F[Nt]("selectstart",Ot),F[Nt]("dragstart",Ot),R.style.userSelect="",R.style.webkitUserSelect="",R.style.MozUserSelect="",R.style.pointerEvents="",F.style.userSelect="",F.style.webkitUserSelect="",F.style.MozUserSelect="",F.style.pointerEvents="",z.gutter.style.cursor="",z.parent.style.cursor="",ks.body.style.cursor=""}function W(z){if(!("button"in z&&z.button!==0)){var R=this,F=l[R.a].element,G=l[R.b].element;R.dragging||Ke(e,"onDragStart",Ot)(O()),z.preventDefault(),R.dragging=!0,R.move=B.bind(R),R.stop=V.bind(R),wt[Dt]("mouseup",R.stop),wt[Dt]("touchend",R.stop),wt[Dt]("touchcancel",R.stop),wt[Dt]("mousemove",R.move),wt[Dt]("touchmove",R.move),F[Dt]("selectstart",Ot),F[Dt]("dragstart",Ot),G[Dt]("selectstart",Ot),G[Dt]("dragstart",Ot),F.style.userSelect="none",F.style.webkitUserSelect="none",F.style.MozUserSelect="none",F.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",R.gutter.style.cursor=S,R.parent.style.cursor=S,ks.body.style.cursor=S,U.call(R),R.dragOffset=k(z)-R.end}}T=P(T);var re=[];l=n.map(function(z,R){var F={element:Mp(z),size:T[R],minSize:C[R],maxSize:m[R],snapOffset:d[R],i:R},G;if(R>0&&(G={a:R-1,b:R,dragging:!1,direction:w,parent:h},G[Mt]=Io(b,R-1===0,!1,a),G[Xt]=Io(b,!1,R===n.length-1,a),v==="row-reverse"||v==="column-reverse")){var Te=G.a;G.a=G.b,G.b=Te}if(R>0){var _e=E(R,w,F.element);M(_e,b,R),G[Ri]=W.bind(G),_e[Dt]("mousedown",G[Ri]),_e[Dt]("touchstart",G[Ri]),h.insertBefore(_e,F.element),G.gutter=_e}return D(F.element,F.size,Io(b,R===0,R===n.length-1,a),R),R>0&&re.push(G),F});function ie(z){var R=z.i===re.length,F=R?re[z.i-1]:re[z.i];U.call(F);var G=R?F.size-z.minSize-F[Xt]:z.minSize+F[Mt];N.call(F,G)}l.forEach(function(z){var R=z.element[bl]()[r];R<z.minSize&&(g?ie(z):z.minSize=R)});function he(z){var R=P(z);R.forEach(function(F,G){if(G>0){var Te=re[G-1],_e=l[Te.a],ht=l[Te.b];_e.size=R[G-1],ht.size=F,D(_e.element,_e.size,Te[Mt],_e.i),D(ht.element,ht.size,Te[Xt],ht.i)}})}function we(z,R){re.forEach(function(F){if(R!==!0?F.parent.removeChild(F.gutter):(F.gutter[Nt]("mousedown",F[Ri]),F.gutter[Nt]("touchstart",F[Ri])),z!==!0){var G=I(r,F.a.size,F[Mt]);Object.keys(G).forEach(function(Te){l[F.a].element.style[Te]="",l[F.b].element.style[Te]=""})}})}return{setSizes:he,getSizes:O,collapse:function(R){ie(l[R])},destroy:we,parent:h,pairs:re}};function Tl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var uf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Tl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=Op(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=Tl(s,["children","minSize","sizes","collapsed"]),h=c,_=r.minSize,v=r.sizes,T=r.collapsed,A=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=A.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,b){return g||b},!1);if(Array.isArray(o)&&Array.isArray(_)){var y=!1;o.forEach(function(g,b){y=y||g!==_[b]}),C=C||y}else Array.isArray(o)||Array.isArray(_)?C=!0:C=C||o!==_;if(C)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(g,b,a){return a.previousSibling},this.split=Op(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(g,b){m=m||g!==v[b]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==T||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Tl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return Wn.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(Wn.Component);uf.propTypes={sizes:de.arrayOf(de.number),minSize:de.oneOfType([de.number,de.arrayOf(de.number)]),maxSize:de.oneOfType([de.number,de.arrayOf(de.number)]),expandToMin:de.bool,gutterSize:de.number,gutterAlign:de.string,snapOffset:de.number,dragInterval:de.number,direction:de.string,cursor:de.string,gutter:de.func,elementStyle:de.func,gutterStyle:de.func,onDrag:de.func,onDragStart:de.func,onDragEnd:de.func,collapsed:de.number,children:de.arrayOf(de.element)};uf.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var Rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,_=(s&3)<<4|u>>4;let v=(u&15)<<2|c>>6,T=c&63;l||(T=64,o||(v=64)),r.push(n[h],n[_],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||_==null)throw new W8;const v=s<<2|u>>4;if(r.push(v),c!==64){const T=u<<4&240|c>>2;if(r.push(T),_!==64){const A=c<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K8=function(t){const e=Yv(t);return Xv.encodeByteArray(e,!0)},Jv=function(t){return K8(t).replace(/\./g,"")},G8=function(t){try{return Xv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=()=>Q8().__FIREBASE_DEFAULTS__,X8=()=>{if(typeof process>"u"||typeof Rp>"u")return;const t=Rp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&G8(t[1]);return e&&JSON.parse(e)},Z8=()=>{try{return Y8()||X8()||J8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eS=()=>{var t;return(t=Z8())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function nS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zv(){try{return typeof indexedDB=="object"}catch{return!1}}function ey(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function rS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iS,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sS(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new zn(i,u,r)}}function sS(t,e){return t.replace(oS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oS=/\{\$([^}]+)}/g;function _a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lp(s)&&Lp(o)){if(!_a(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=1e3,uS=2,lS=4*60*60*1e3,cS=.5;function $p(t,e=aS,n=uS){const r=e*Math.pow(n,t),i=Math.round(cS*r*(Math.random()-.5)*2);return Math.min(lS,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qn){return this.instances.has(e)}getOptions(e=qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qn){return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(t){return t===qn?void 0:t}function hS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const mS={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},gS=le.INFO,vS={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},yS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const wS=(t,e)=>e.some(n=>t instanceof n);let xp,jp;function _S(){return xp||(xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ty=new WeakMap,Mc=new WeakMap,ny=new WeakMap,Il=new WeakMap,cf=new WeakMap;function ES(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ty.set(n,t)}).catch(()=>{}),cf.set(e,t),e}function kS(t){if(Mc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mc.set(t,e)}let Oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ny.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CS(t){Oc=t(Oc)}function bS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Al(this),e,...n);return ny.set(r,e.sort?e.sort():[e]),Tn(r)}:SS().includes(t)?function(...e){return t.apply(Al(this),e),Tn(ty.get(this))}:function(...e){return Tn(t.apply(Al(this),e))}}function TS(t){return typeof t=="function"?bS(t):(t instanceof IDBTransaction&&kS(t),wS(t,_S())?new Proxy(t,Oc):t)}function Tn(t){if(t instanceof IDBRequest)return ES(t);if(Il.has(t))return Il.get(t);const e=TS(t);return e!==t&&(Il.set(t,e),cf.set(e,t)),e}const Al=t=>cf.get(t);function ry(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Tn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tn(o.result),l.oldVersion,l.newVersion,Tn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const IS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Pl=new Map;function zp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pl.get(e))return Pl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IS.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return Pl.set(e,s),s}CS(t=>({...t,get:(e,n,r)=>zp(e,n)||t.get(e,n,r),has:(e,n)=>!!zp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rc="@firebase/app",Fp="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new lf("@firebase/app"),NS="@firebase/app-compat",MS="@firebase/analytics-compat",OS="@firebase/analytics",RS="@firebase/app-check-compat",LS="@firebase/app-check",$S="@firebase/auth",xS="@firebase/auth-compat",jS="@firebase/database",zS="@firebase/database-compat",FS="@firebase/functions",BS="@firebase/functions-compat",US="@firebase/installations",VS="@firebase/installations-compat",HS="@firebase/messaging",qS="@firebase/messaging-compat",WS="@firebase/performance",KS="@firebase/performance-compat",GS="@firebase/remote-config",QS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",JS="@firebase/firestore",ZS="@firebase/firestore-compat",eE="firebase",tE="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]",nE={[Rc]:"fire-core",[NS]:"fire-core-compat",[OS]:"fire-analytics",[MS]:"fire-analytics-compat",[LS]:"fire-app-check",[RS]:"fire-app-check-compat",[$S]:"fire-auth",[xS]:"fire-auth-compat",[jS]:"fire-rtdb",[zS]:"fire-rtdb-compat",[FS]:"fire-fn",[BS]:"fire-fn-compat",[US]:"fire-iid",[VS]:"fire-iid-compat",[HS]:"fire-fcm",[qS]:"fire-fcm-compat",[WS]:"fire-perf",[KS]:"fire-perf-compat",[GS]:"fire-rc",[QS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[JS]:"fire-fst",[ZS]:"fire-fst-compat","fire-js":"fire-js",[eE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Map,$c=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if($c.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;$c.set(e,t);for(const n of Sa.values())rE(n,t);return!0}function yu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},In=new vu("app","Firebase",iE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=tE;function iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw In.create("bad-app-name",{appName:String(i)});if(n||(n=eS()),!n)throw In.create("no-options");const s=Sa.get(i);if(s){if(_a(n,s.options)&&_a(r,s.config))return s;throw In.create("duplicate-app",{appName:i})}const o=new pS(i);for(const l of $c.values())o.addComponent(l);const u=new sE(n,r,o);return Sa.set(i,u),u}function aE(t=Lc){const e=Sa.get(t);if(!e&&t===Lc)return iy();if(!e)throw In.create("no-app",{appName:t});return e}function qt(t,e,n){var r;let i=(r=nE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(u.join(" "));return}On(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebase-heartbeat-database",lE=1,Cs="firebase-heartbeat-store";let Dl=null;function sy(){return Dl||(Dl=ry(uE,lE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cs)}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),Dl}async function cE(t){try{return(await sy()).transaction(Cs).objectStore(Cs).get(oy(t))}catch(e){if(e instanceof zn)dr.warn(e.message);else{const n=In.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Bp(t,e){try{const r=(await sy()).transaction(Cs,"readwrite");return await r.objectStore(Cs).put(e,oy(t)),r.done}catch(n){if(n instanceof zn)dr.warn(n.message);else{const r=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(r.message)}}}function oy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=1024,fE=30*24*60*60*1e3;class hE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Up();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=fE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Up(),{heartbeatsToSend:n,unsentEntries:r}=pE(this._heartbeatsCache.heartbeats),i=Jv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Up(){return new Date().toISOString().substring(0,10)}function pE(t,e=dE){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zv()?ey().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vp(t){return Jv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){On(new on("platform-logger",e=>new PS(e),"PRIVATE")),On(new on("heartbeat",e=>new hE(e),"PRIVATE")),qt(Rc,Fp,t),qt(Rc,Fp,"esm2017"),qt("fire-js","")}gE("");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,df=df||{},Z=vE||self;function Ea(){}function wu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _u(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yE(t){return Object.prototype.hasOwnProperty.call(t,Nl)&&t[Nl]||(t[Nl]=++wE)}var Nl="closure_uid_"+(1e9*Math.random()>>>0),wE=0;function _E(t,e,n){return t.call.apply(t.bind,arguments)}function SE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?et=_E:et=SE,et.apply(null,arguments)}function Ao(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function We(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Fn(){this.s=this.s,this.o=this.o}var EE=0;Fn.prototype.s=!1;Fn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),EE!=0)&&yE(this)};Fn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ay=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ff(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var kE=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",Ea,e),Z.removeEventListener("test",Ea,e)}catch{}return t}();function ka(t){return/^[\s\xa0]*$/.test(t)}var qp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ml(t,e){return t<e?-1:t>e?1:0}function Su(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function jt(t){return Su().indexOf(t)!=-1}function hf(t){return hf[" "](t),t}hf[" "]=Ea;function CE(t){var e=IE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var bE=jt("Opera"),Zr=jt("Trident")||jt("MSIE"),uy=jt("Edge"),xc=uy||Zr,ly=jt("Gecko")&&!(Su().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge"))&&!(jt("Trident")||jt("MSIE"))&&!jt("Edge"),TE=Su().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge");function cy(){var t=Z.document;return t?t.documentMode:void 0}var Ca;e:{var Ol="",Rl=function(){var t=Su();if(ly)return/rv:([^\);]+)(\)|;)/.exec(t);if(uy)return/Edge\/([\d\.]+)/.exec(t);if(Zr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TE)return/WebKit\/(\S+)/.exec(t);if(bE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rl&&(Ol=Rl?Rl[1]:""),Zr){var Ll=cy();if(Ll!=null&&Ll>parseFloat(Ol)){Ca=String(Ll);break e}}Ca=Ol}var IE={};function AE(){return CE(function(){let t=0;const e=qp(String(Ca)).split("."),n=qp("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Ml(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Ml(i[2].length==0,s[2].length==0)||Ml(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var jc;if(Z.document&&Zr){var Wp=cy();jc=Wp||parseInt(Ca,10)||void 0}else jc=void 0;var PE=jc;function bs(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ly){e:{try{hf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bs.X.h.call(this)}}We(bs,tt);var DE={2:"touch",3:"pen",4:"mouse"};bs.prototype.h=function(){bs.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Eu="closure_listenable_"+(1e6*Math.random()|0),NE=0;function ME(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++NE,this.ba=this.ea=!1}function ku(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function pf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dy(t){const e={};for(const n in t)e[n]=t[n];return e}const Kp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fy(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Kp.length;s++)n=Kp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cu(t){this.src=t,this.g={},this.h=0}Cu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Fc(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ME(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function zc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ay(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ku(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),$l={};function hy(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hy(t,e[s],n,r,i);return null}return n=gy(n),t&&t[Eu]?t.N(e,n,_u(r)?!!r.capture:!!r,i):OE(t,e,n,!1,r,i)}function OE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_u(i)?!!i.capture:!!i,u=vf(t);if(u||(t[mf]=u=new Cu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=RE(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kE||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(my(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RE(){function t(n){return e.call(t.src,t.listener,n)}const e=LE;return t}function py(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)py(t,e[s],n,r,i);else r=_u(r)?!!r.capture:!!r,n=gy(n),t&&t[Eu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Fc(s,n,r,i),-1<n&&(ku(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=vf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fc(e,n,r,i)),(n=-1<t?e[t]:null)&&gf(n))}function gf(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Eu])zc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(my(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vf(e))?(zc(n,t),n.h==0&&(n.src=null,e[mf]=null)):ku(t)}}}function my(t){return t in $l?$l[t]:$l[t]="on"+t}function LE(t,e){if(t.ba)t=!0;else{e=new bs(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&gf(t),t=n.call(r,e)}return t}function vf(t){return t=t[mf],t instanceof Cu?t:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gy(t){return typeof t=="function"?t:(t[xl]||(t[xl]=function(e){return t.handleEvent(e)}),t[xl])}function Fe(){Fn.call(this),this.i=new Cu(this),this.P=this,this.I=null}We(Fe,Fn);Fe.prototype[Eu]=!0;Fe.prototype.removeEventListener=function(t,e,n,r){py(this,t,e,n,r)};function He(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new tt(e,t);else if(e instanceof tt)e.target=e.target||t;else{var i=e;e=new tt(r,t),fy(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Po(o,r,!0,e)&&i}if(o=e.g=t,i=Po(o,r,!0,e)&&i,i=Po(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Po(o,r,!1,e)&&i}Fe.prototype.M=function(){if(Fe.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ku(n[r]);delete t.g[e],t.h--}}this.I=null};Fe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Po(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var u=o.listener,l=o.ha||o.src;o.ea&&zc(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var yf=Z.JSON.stringify;function $E(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class xE{constructor(){this.h=this.g=null}add(e,n){const r=vy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vy=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jE,t=>t.reset());class jE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zE(t){Z.setTimeout(()=>{throw t},0)}function yy(t,e){Bc||FE(),Uc||(Bc(),Uc=!0),wy.add(t,e)}var Bc;function FE(){var t=Z.Promise.resolve(void 0);Bc=function(){t.then(BE)}}var Uc=!1,wy=new xE;function BE(){for(var t;t=$E();){try{t.h.call(t.g)}catch(n){zE(n)}var e=vy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uc=!1}function bu(t,e){Fe.call(this),this.h=t||1,this.g=e||Z,this.j=et(this.lb,this),this.l=Date.now()}We(bu,Fe);q=bu.prototype;q.ca=!1;q.R=null;q.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),He(this,"tick"),this.ca&&(wf(this),this.start()))}};q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wf(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}q.M=function(){bu.X.M.call(this),wf(this),delete this.g};function _f(t,e,n){if(typeof t=="function")n&&(t=et(t,n));else if(t&&typeof t.handleEvent=="function")t=et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function _y(t){t.g=_f(()=>{t.g=null,t.i&&(t.i=!1,_y(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class UE extends Fn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_y(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(t){Fn.call(this),this.h=t,this.g={}}We(Ts,Fn);var Gp=[];function Sy(t,e,n,r){Array.isArray(n)||(n&&(Gp[0]=n.toString()),n=Gp);for(var i=0;i<n.length;i++){var s=hy(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ey(t){pf(t.g,function(e,n){this.g.hasOwnProperty(n)&&gf(e)},t),t.g={}}Ts.prototype.M=function(){Ts.X.M.call(this),Ey(this)};Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tu(){this.g=!0}Tu.prototype.Aa=function(){this.g=!1};function VE(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var h=c[0];c=c[1];var _=h.split("_");o=2<=_.length&&_[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function HE(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function $r(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WE(t,n)+(r?" "+r:"")})}function qE(t,e){t.info(function(){return"TIMEOUT: "+e})}Tu.prototype.info=function(){};function WE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return yf(n)}catch{return e}}var _r={},Qp=null;function Iu(){return Qp=Qp||new Fe}_r.Pa="serverreachability";function ky(t){tt.call(this,_r.Pa,t)}We(ky,tt);function Is(t){const e=Iu();He(e,new ky(e))}_r.STAT_EVENT="statevent";function Cy(t,e){tt.call(this,_r.STAT_EVENT,t),this.stat=e}We(Cy,tt);function it(t){const e=Iu();He(e,new Cy(e,t))}_r.Qa="timingevent";function by(t,e){tt.call(this,_r.Qa,t),this.size=e}We(by,tt);function Ys(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Au={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ty={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sf(){}Sf.prototype.h=null;function Yp(t){return t.h||(t.h=t.i())}function Iy(){}var Xs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ef(){tt.call(this,"d")}We(Ef,tt);function kf(){tt.call(this,"c")}We(kf,tt);var Vc;function Pu(){}We(Pu,Sf);Pu.prototype.g=function(){return new XMLHttpRequest};Pu.prototype.i=function(){return{}};Vc=new Pu;function Js(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Ts(this),this.O=KE,t=xc?125:void 0,this.T=new bu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ay}function Ay(){this.i=null,this.g="",this.h=!1}var KE=45e3,Hc={},ba={};q=Js.prototype;q.setTimeout=function(t){this.O=t};function qc(t,e,n){t.K=1,t.v=Nu(an(e)),t.s=n,t.P=!0,Py(t,null)}function Py(t,e){t.F=Date.now(),Zs(t),t.A=an(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),xy(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Ay,t.g=i0(t.l,n?e:null,!t.s),0<t.N&&(t.L=new UE(et(t.La,t,t.g),t.N)),Sy(t.S,t.g,"readystatechange",t.ib),e=t.H?dy(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Is(),VE(t.j,t.u,t.A,t.m,t.U,t.s)}q.ib=function(t){t=t.target;const e=this.L;e&&nn(t)==3?e.l():this.La(t)};q.La=function(t){try{if(t==this.g)e:{const h=nn(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>h)&&(h!=3||xc||this.g&&(this.h.h||this.g.fa()||em(this.g)))){this.I||h!=4||e==7||(e==8||0>=_?Is(3):Is(2)),Du(this);var n=this.g.aa();this.Y=n;t:if(Dy(this)){var r=em(this.g);t="";var i=r.length,s=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),rs(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,HE(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(u)){var c=u;break t}}c=null}if(n=c)$r(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wc(this,n);else{this.i=!1,this.o=3,it(12),Jn(this),rs(this);break e}}this.P?(Ny(this,h,o),xc&&this.i&&h==3&&(Sy(this.S,this.T,"tick",this.hb),this.T.start())):($r(this.j,this.m,o,null),Wc(this,o)),h==4&&Jn(this),this.i&&!this.I&&(h==4?e0(this.l,this):(this.i=!1,Zs(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,it(12)):(this.o=0,it(13)),Jn(this),rs(this)}}}catch{}finally{}};function Dy(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Ny(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=GE(t,n),i==ba){e==4&&(t.o=4,it(14),r=!1),$r(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Hc){t.o=4,it(15),$r(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $r(t.j,t.m,i,null),Wc(t,i);Dy(t)&&i!=ba&&i!=Hc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,it(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Df(e),e.K=!0,it(11))):($r(t.j,t.m,n,"[Invalid Chunked Response]"),Jn(t),rs(t))}q.hb=function(){if(this.g){var t=nn(this.g),e=this.g.fa();this.C<e.length&&(Du(this),Ny(this,t,e),this.i&&t!=4&&Zs(this))}};function GE(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ba:(n=Number(e.substring(n,r)),isNaN(n)?Hc:(r+=1,r+n>e.length?ba:(e=e.substr(r,n),t.C=r+n,e)))}q.cancel=function(){this.I=!0,Jn(this)};function Zs(t){t.V=Date.now()+t.O,My(t,t.O)}function My(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ys(et(t.gb,t),e)}function Du(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}q.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(qE(this.j,this.A),this.K!=2&&(Is(),it(17)),Jn(this),this.o=2,rs(this)):My(this,this.V-t)};function rs(t){t.l.G==0||t.I||e0(t.l,t)}function Jn(t){Du(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,wf(t.T),Ey(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wc(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Kc(n.h,t))){if(!t.J&&Kc(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Aa(n),Ru(n);else break e;Pf(n),it(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ys(et(n.cb,n),6e3));if(1>=Fy(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zn(n,11)}else if((t.J||n.g==t)&&Aa(n),!ka(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const h=c[3];h!=null&&(n.ma=h,n.j.info("VER="+n.ma));const _=c[4];_!=null&&(n.Ca=_,n.j.info("SVER="+n.Ca));const v=c[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const T=t.g;if(T){const A=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=r.h;s.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cf(s,s.h),s.h=null))}if(r.D){const C=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.za=C,ve(r.F,r.D,C))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=r0(r,r.H?r.ka:null,r.V),o.J){By(r.h,o);var u=o,l=r.J;l&&u.setTimeout(l),u.B&&(Du(u),Zs(u)),r.g=o}else Jy(r);0<n.i.length&&Lu(n)}else c[0]!="stop"&&c[0]!="close"||Zn(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zn(n,7):Af(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Is(4)}catch{}}function QE(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YE(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Oy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YE(t),r=QE(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function rr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rr){this.h=e!==void 0?e:t.h,Ta(this,t.j),this.s=t.s,this.g=t.g,Ia(this,t.m),this.l=t.l,e=t.i;var n=new As;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Xp(this,n),this.o=t.o}else t&&(n=String(t).match(Ry))?(this.h=!!e,Ta(this,n[1]||"",!0),this.s=Bi(n[2]||""),this.g=Bi(n[3]||"",!0),Ia(this,n[4]),this.l=Bi(n[5]||"",!0),Xp(this,n[6]||"",!0),this.o=Bi(n[7]||"")):(this.h=!!e,this.i=new As(null,this.h))}rr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ui(e,Jp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ui(e,Jp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ui(n,n.charAt(0)=="/"?ek:ZE,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ui(n,nk)),t.join("")};function an(t){return new rr(t)}function Ta(t,e,n){t.j=n?Bi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ia(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xp(t,e,n){e instanceof As?(t.i=e,rk(t.i,t.h)):(n||(e=Ui(e,tk)),t.i=new As(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function Nu(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ui(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JE),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JE(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jp=/[#\/\?@]/g,ZE=/[#\?:]/g,ek=/[#\?]/g,tk=/[#\?@]/g,nk=/#/g;function As(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bn(t){t.g||(t.g=new Map,t.h=0,t.i&&XE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=As.prototype;q.add=function(t,e){Bn(this),this.i=null,t=mi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ly(t,e){Bn(t),e=mi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $y(t,e){return Bn(t),e=mi(t,e),t.g.has(e)}q.forEach=function(t,e){Bn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.oa=function(){Bn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.W=function(t){Bn(this);let e=[];if(typeof t=="string")$y(this,t)&&(e=e.concat(this.g.get(mi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Bn(this),this.i=null,t=mi(this,t),$y(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function xy(t,e,n){Ly(t,e),0<n.length&&(t.i=null,t.g.set(mi(t,e),ff(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function mi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rk(t,e){e&&!t.j&&(Bn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ly(this,r),xy(this,i,n))},t)),t.j=e}var ik=class{constructor(e,n){this.h=e,this.g=n}};function jy(t){this.l=t||sk,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sk=10;function zy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Fy(t){return t.h?1:t.g?t.g.size:0}function Kc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cf(t,e){t.g?t.g.add(e):t.h=e}function By(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jy.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Uy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ff(t.i)}function bf(){}bf.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};bf.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function ok(){this.g=new bf}function ak(t,e,n){const r=n||"";try{Oy(t,function(i,s){let o=i;_u(i)&&(o=yf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uk(t,e){const n=new Tu;if(Z.Image){const r=new Image;r.onload=Ao(Do,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ao(Do,n,r,"TestLoadImage: error",!1,e),r.onabort=Ao(Do,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ao(Do,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Do(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function eo(t){this.l=t.ac||null,this.j=t.jb||!1}We(eo,Sf);eo.prototype.g=function(){return new Mu(this.l,this.j)};eo.prototype.i=function(t){return function(){return t}}({});function Mu(t,e){Fe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Tf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(Mu,Fe);var Tf=0;q=Mu.prototype;q.open=function(t,e){if(this.readyState!=Tf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ps(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=Tf};q.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vy(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Vy(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}q.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?to(this):Ps(this),this.readyState==3&&Vy(this)}};q.Va=function(t){this.g&&(this.response=this.responseText=t,to(this))};q.Ua=function(t){this.g&&(this.response=t,to(this))};q.ga=function(){this.g&&to(this)};function to(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ps(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ps(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lk=Z.JSON.parse;function be(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hy,this.K=this.L=!1}We(be,Fe);var Hy="",ck=/^https?$/i,dk=["POST","PUT"];q=be.prototype;q.Ka=function(t){this.L=t};q.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vc.g(),this.C=this.u?Yp(this.u):Yp(Vc),this.g.onreadystatechange=et(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Zp(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=ay(dk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ky(this),0<this.B&&((this.K=fk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.qa,this)):this.A=_f(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Zp(this,s)}};function fk(t){return Zr&&AE()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.qa=function(){typeof df<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function Zp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qy(t),Ou(t)}function qy(t){t.D||(t.D=!0,He(t,"complete"),He(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,He(this,"complete"),He(this,"abort"),Ou(this))};q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ou(this,!0)),be.X.M.call(this)};q.Ha=function(){this.s||(this.F||this.v||this.l?Wy(this):this.fb())};q.fb=function(){Wy(this)};function Wy(t){if(t.h&&typeof df<"u"&&(!t.C[1]||nn(t)!=4||t.aa()!=2)){if(t.v&&nn(t)==4)_f(t.Ha,0,t);else if(He(t,"readystatechange"),nn(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.H).match(Ry)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!ck.test(i?i.toLowerCase():"")}n=r}if(n)He(t,"complete"),He(t,"success");else{t.m=6;try{var o=2<nn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",qy(t)}}finally{Ou(t)}}}}function Ou(t,e){if(t.g){Ky(t);const n=t.g,r=t.C[0]?Ea:null;t.g=null,t.C=null,e||He(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ky(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function nn(t){return t.g?t.g.readyState:0}q.aa=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}};q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lk(e)}};function em(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Hy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ea=function(){return this.m};q.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Gy(t){let e="";return pf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function If(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Li(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qy(t){this.Ca=0,this.i=[],this.j=new Tu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Li("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Li("baseRetryDelayMs",5e3,t),this.bb=Li("retryDelaySeedMs",1e4,t),this.$a=Li("forwardChannelMaxRetries",2,t),this.ta=Li("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new jy(t&&t.concurrentRequestLimit),this.Fa=new ok,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}q=Qy.prototype;q.ma=8;q.G=1;function Af(t){if(Yy(t),t.G==3){var e=t.U++,n=an(t.F);ve(n,"SID",t.I),ve(n,"RID",e),ve(n,"TYPE","terminate"),no(t,n),e=new Js(t,t.j,e,void 0),e.K=2,e.v=Nu(an(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=i0(e.l,null),e.g.da(e.v)),e.F=Date.now(),Zs(e)}n0(t)}function Ru(t){t.g&&(Df(t),t.g.cancel(),t.g=null)}function Yy(t){Ru(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Aa(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Lu(t){zy(t.h)||t.m||(t.m=!0,yy(t.Ja,t),t.C=0)}function hk(t,e){return Fy(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ys(et(t.Ja,t,e),t0(t,t.C)),t.C++,!0)}q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Js(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=dy(s),fy(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xy(this,i,e),n=an(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),no(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Gy(s)))+"&"+e:this.o&&If(n,this.o,s)),Cf(this.h,i),this.Ya&&ve(n,"TYPE","init"),this.O?(ve(n,"$req",e),ve(n,"SID","null"),i.Z=!0,qc(i,n,null)):qc(i,n,e),this.G=2}}else this.G==3&&(t?tm(this,t):this.i.length==0||zy(this.h)||tm(this))};function tm(t,e){var n;e?n=e.m:n=t.U++;const r=an(t.F);ve(r,"SID",t.I),ve(r,"RID",n),ve(r,"AID",t.T),no(t,r),t.o&&t.s&&If(r,t.o,t.s),n=new Js(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Xy(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Cf(t.h,n),qc(n,r,e)}function no(t,e){t.ia&&pf(t.ia,function(n,r){ve(e,r,n)}),t.l&&Oy({},function(n,r){ve(e,r,n)})}function Xy(t,e,n){n=Math.min(t.i.length,n);var r=t.l?et(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].h;const h=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),u=!1;else try{ak(h,o,"req"+c+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Jy(t){t.g||t.u||(t.Z=1,yy(t.Ia,t),t.A=0)}function Pf(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ys(et(t.Ia,t),t0(t,t.A)),t.A++,!0)}q.Ia=function(){if(this.u=null,Zy(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ys(et(this.eb,this),t)}};q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,it(10),Ru(this),Zy(this))};function Df(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function Zy(t){t.g=new Js(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=an(t.sa);ve(e,"RID","rpc"),ve(e,"SID",t.I),ve(e,"CI",t.L?"0":"1"),ve(e,"AID",t.T),ve(e,"TYPE","xmlhttp"),no(t,e),t.o&&t.s&&If(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Nu(an(e)),n.s=null,n.P=!0,Py(n,t)}q.cb=function(){this.v!=null&&(this.v=null,Ru(this),Pf(this),it(19))};function Aa(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function e0(t,e){var n=null;if(t.g==e){Aa(t),Df(t),t.g=null;var r=2}else if(Kc(t.h,e))n=e.D,By(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Iu(),He(r,new by(r,n)),Lu(t)}else Jy(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&hk(t,e)||r==2&&Pf(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Zn(t,5);break;case 4:Zn(t,10);break;case 3:Zn(t,6);break;default:Zn(t,2)}}}function t0(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Zn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=et(t.kb,t);n||(n=new rr("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Ta(n,"https"),Nu(n)),uk(n.toString(),r)}else it(2);t.G=0,t.l&&t.l.va(e),n0(t),Yy(t)}q.kb=function(t){t?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function n0(t){if(t.G=0,t.la=[],t.l){const e=Uy(t.h);(e.length!=0||t.i.length!=0)&&(Hp(t.la,e),Hp(t.la,t.i),t.h.i.length=0,ff(t.i),t.i.length=0),t.l.ua()}}function r0(t,e,n){var r=n instanceof rr?an(n):new rr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ia(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new rr(null,void 0);r&&Ta(s,r),e&&(s.g=e),i&&Ia(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&ve(r,n,e),ve(r,"VER",t.ma),no(t,r),r}function i0(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new be(new eo({jb:!0})):new be(t.ra),e.Ka(t.H),e}function s0(){}q=s0.prototype;q.xa=function(){};q.wa=function(){};q.va=function(){};q.ua=function(){};q.Ra=function(){};function Pa(){if(Zr&&!(10<=Number(PE)))throw Error("Environmental error: no available transport.")}Pa.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){Fe.call(this),this.g=new Qy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ka(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ka(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gi(this)}We(vt,Fe);vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;it(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=r0(t,null,t.V),Lu(t)};vt.prototype.close=function(){Af(this.g)};vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=yf(t),t=n);e.i.push(new ik(e.ab++,t)),e.G==3&&Lu(e)};vt.prototype.M=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,vt.X.M.call(this)};function o0(t){Ef.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}We(o0,Ef);function a0(){kf.call(this),this.status=1}We(a0,kf);function gi(t){this.g=t}We(gi,s0);gi.prototype.xa=function(){He(this.g,"a")};gi.prototype.wa=function(t){He(this.g,new o0(t))};gi.prototype.va=function(t){He(this.g,new a0)};gi.prototype.ua=function(){He(this.g,"b")};Pa.prototype.createWebChannel=Pa.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;Au.NO_ERROR=0;Au.TIMEOUT=8;Au.HTTP_ERROR=6;Ty.COMPLETE="complete";Iy.EventType=Xs;Xs.OPEN="a";Xs.CLOSE="b";Xs.ERROR="c";Xs.MESSAGE="d";Fe.prototype.listen=Fe.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.Oa;be.prototype.getLastErrorCode=be.prototype.Ea;be.prototype.getStatus=be.prototype.aa;be.prototype.getResponseJson=be.prototype.Sa;be.prototype.getResponseText=be.prototype.fa;be.prototype.send=be.prototype.da;be.prototype.setWithCredentials=be.prototype.Ka;var pk=function(){return new Pa},mk=function(){return Iu()},jl=Au,gk=Ty,vk=_r,nm={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yk=eo,No=Iy,wk=be;const rm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new lf("@firebase/firestore");function im(){return fr.logLevel}function K(t,...e){if(fr.logLevel<=le.DEBUG){const n=e.map(Nf);fr.debug(`Firestore (${vi}): ${t}`,...n)}}function un(t,...e){if(fr.logLevel<=le.ERROR){const n=e.map(Nf);fr.error(`Firestore (${vi}): ${t}`,...n)}}function Gc(t,...e){if(fr.logLevel<=le.WARN){const n=e.map(Nf);fr.warn(`Firestore (${vi}): ${t}`,...n)}}function Nf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${vi}) INTERNAL ASSERTION FAILED: `+t;throw un(e),new Error(e)}function ge(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class Ek{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ir,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new _k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new lt(e)}}class kk{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ck{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new kk(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tk{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.T=n.token,new bk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ik(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function ei(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Re(0,0))}static max(){return new ee(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Ds{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const Ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ds{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return Ak.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Y(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Y(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ee.fromString(e))}static fromName(e){return new Q(Ee.fromString(e).popFirst(5))}static empty(){return new Q(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ee(e.slice()))}}function Pk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Rn(i,Q.empty(),e)}function Dk(t){return new Rn(t.readTime,t.key,-1)}class Rn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rn(ee.min(),Q.empty(),-1)}static max(){return new Rn(ee.max(),Q.empty(),-1)}}function Nk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==Mk)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Mf.ct=-1;function $u(t){return t==null}function Da(t){return t===0&&1/t==-1/0}function Rk(t){return typeof t=="number"&&Number.isInteger(t)&&!Da(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ue(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(e){return new om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Le(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lk("Invalid base64 string: "+i):i}}(e);return new rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(ge(!!t),typeof t=="string"){let e=0;const n=$k.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function d0(t){const e=t.mapValue.fields.__previous_value__;return c0(e)?d0(e):e}function Ns(t){const e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=l}}class Ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c0(t)?4:jk(t)?9007199254740991:10:J()}function Kt(t,e){if(t===e)return!0;const n=hr(t);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ns(t).isEqual(Ns(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ln(r.timestampValue),o=Ln(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ti(r.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?Da(s)===Da(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ei(t.arrayValue.values||[],e.arrayValue.values||[],Kt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(sm(s)!==sm(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Kt(s[u],o[u])))return!1;return!0}(t,e);default:return J()}}function Os(t,e){return(t.values||[]).find(n=>Kt(n,e))!==void 0}function ni(t,e){if(t===e)return 0;const n=hr(t),r=hr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),u=Pe(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return am(t.timestampValue,e.timestampValue);case 4:return am(Ns(t),Ns(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ti(i),u=ti(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=ce(o[l],u[l]);if(c!==0)return c}return ce(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(Pe(i.latitude),Pe(s.latitude));return o!==0?o:ce(Pe(i.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const c=ni(o[l],u[l]);if(c)return c}return ce(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Oo.mapValue&&s===Oo.mapValue)return 0;if(i===Oo.mapValue)return 1;if(s===Oo.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const _=ce(u[h],c[h]);if(_!==0)return _;const v=ni(o[u[h]],l[c[h]]);if(v!==0)return v}return ce(u.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function am(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Ln(t),r=Ln(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function ri(t){return Qc(t)}function Qc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ln(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ti(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Qc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Qc(r.fields[u])}`;return s+"}"}(t.mapValue):J();var e,n}function Yc(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function um(t){return!!t&&"nullValue"in t}function lm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ko(t){return!!t&&"mapValue"in t}function is(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=is(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=is(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ko(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=is(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ko(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ko(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Et(is(this.value))}}function f0(t){const e=[];return yi(t.fields,(n,r)=>{const i=new Xe([n]);if(Ko(r)){const s=f0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Ye(e,0,ee.min(),ee.min(),ee.min(),Et.empty(),0)}static newFoundDocument(e,n,r,i){return new Ye(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Ye(e,2,n,ee.min(),ee.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new Ye(e,3,n,ee.min(),ee.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.position=e,this.inclusive=n}}function cm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=ni(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n="asc"){this.field=e,this.dir=n}}function zk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{}class Me extends h0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bk(e,n,r):n==="array-contains"?new Hk(e,r):n==="in"?new qk(e,r):n==="not-in"?new Wk(e,r):n==="array-contains-any"?new Kk(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uk(e,r):new Vk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ni(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(ni(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gt extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Gt(e,n)}matches(e){return p0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function p0(t){return t.op==="and"}function m0(t){return Fk(t)&&p0(t)}function Fk(t){for(const e of t.filters)if(e instanceof Gt)return!1;return!0}function Xc(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ri(t.value);if(m0(t))return t.filters.map(e=>Xc(e)).join(",");{const e=t.filters.map(n=>Xc(n)).join(",");return`${t.op}(${e})`}}function g0(t,e){return t instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&Kt(n.value,r.value)}(t,e):t instanceof Gt?function(n,r){return r instanceof Gt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&g0(s,r.filters[o]),!0):!1}(t,e):void J()}function v0(t){return t instanceof Me?function(e){return`${e.field.canonicalString()} ${e.op} ${ri(e.value)}`}(t):t instanceof Gt?function(e){return e.op.toString()+" {"+e.getFilters().map(v0).join(" ,")+"}"}(t):"Filter"}class Bk extends Me{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uk extends Me{constructor(e,n){super(e,"in",n),this.keys=y0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vk extends Me{constructor(e,n){super(e,"not-in",n),this.keys=y0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function y0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class Hk extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&Os(n.arrayValue,this.value)}}class qk extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Os(this.value.arrayValue,n)}}class Wk extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Os(this.value.arrayValue,n)}}class Kk extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Os(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ft=null}}function fm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gk(t,e,n,r,i,s,o)}function Rf(t){const e=ne(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ri(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ri(r)).join(",")),e.ft=n}return e.ft}function Lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dm(t.startAt,e.startAt)&&dm(t.endAt,e.endAt)}function Jc(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Qk(t,e,n,r,i,s,o,u){return new xu(t,e,n,r,i,s,o,u)}function $f(t){return new xu(t)}function hm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Xk(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Jk(t){return t.collectionGroup!==null}function Kr(t){const e=ne(t);if(e.dt===null){e.dt=[];const n=Xk(e),r=Yk(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ss(n)),e.dt.push(new ss(Xe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ss(Xe.keyField(),s))}}}return e.dt}function ln(t){const e=ne(t);if(!e.wt)if(e.limitType==="F")e.wt=fm(e.path,e.collectionGroup,Kr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Kr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ss(s.field,o))}const r=e.endAt?new Na(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Na(e.startAt.position,e.startAt.inclusive):null;e.wt=fm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Zc(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ju(t,e){return Lf(ln(t),ln(e))&&t.limitType===e.limitType}function w0(t){return`${Rf(ln(t))}|lt:${t.limitType}`}function ed(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>v0(r)).join(", ")}]`),$u(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ri(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ri(r)).join(",")),`Target(${n})`}(ln(t))}; limitType=${t.limitType})`}function zu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Kr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=cm(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,Kr(n),r)||n.endAt&&!function(i,s,o){const u=cm(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,Kr(n),r))}(t,e)}function Zk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _0(t){return(e,n)=>{let r=!1;for(const i of Kr(t)){const s=eC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eC(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?ni(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new $e(Q.comparator);function cn(){return tC}const S0=new $e(Q.comparator);function Vi(...t){let e=S0;for(const n of t)e=e.insert(n.key,n);return e}function E0(t){let e=S0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function er(){return os()}function k0(){return os()}function os(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const nC=new $e(Q.comparator),rC=new Le(Q.comparator);function oe(...t){let e=rC;for(const n of t)e=e.add(n);return e}const iC=new Le(ce);function C0(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(e)?"-0":e}}function T0(t){return{integerValue:""+t}}function sC(t,e){return Rk(e)?T0(e):b0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function oC(t,e,n){return t instanceof Ma?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Rs?A0(t,e):t instanceof Ls?P0(t,e):function(r,i){const s=I0(r,i),o=pm(s)+pm(r._t);return Yc(s)&&Yc(r._t)?T0(o):b0(r.serializer,o)}(t,e)}function aC(t,e,n){return t instanceof Rs?A0(t,e):t instanceof Ls?P0(t,e):n}function I0(t,e){return t instanceof Oa?Yc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ma extends Fu{}class Rs extends Fu{constructor(e){super(),this.elements=e}}function A0(t,e){const n=D0(e);for(const r of t.elements)n.some(i=>Kt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ls extends Fu{constructor(e){super(),this.elements=e}}function P0(t,e){let n=D0(e);for(const r of t.elements)n=n.filter(i=>!Kt(i,r));return{arrayValue:{values:n}}}class Oa extends Fu{constructor(e,n){super(),this.serializer=e,this._t=n}}function pm(t){return Pe(t.integerValue||t.doubleValue)}function D0(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uC(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Rs&&r instanceof Rs||n instanceof Ls&&r instanceof Ls?ei(n.elements,r.elements,Kt):n instanceof Oa&&r instanceof Oa?Kt(n._t,r._t):n instanceof Ma&&r instanceof Ma}(t.transform,e.transform)}class lC{constructor(e,n){this.version=e,this.transformResults=n}}class xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bu{}function N0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xf(t.key,xt.none()):new so(t.key,t.data,xt.none());{const n=t.data,r=Et.empty();let i=new Le(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sr(t.key,r,new $t(i.toArray()),xt.none())}}function cC(t,e,n){t instanceof so?function(r,i,s){const o=r.value.clone(),u=gm(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(r,i,s){if(!Go(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=gm(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(M0(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function as(t,e,n,r){return t instanceof so?function(i,s,o,u){if(!Go(i.precondition,s))return o;const l=i.value.clone(),c=vm(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sr?function(i,s,o,u){if(!Go(i.precondition,s))return o;const l=vm(i.fieldTransforms,u,s),c=s.data;return c.setAll(M0(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Go(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function dC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=I0(r.transform,i||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function mm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ei(n,r,(i,s)=>uC(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class so extends Bu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends Bu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gm(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,aC(o,u,n[i]))}return r}function vm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oC(s,o,e))}return r}class xf extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=as(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=as(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=N0(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,(n,r)=>mm(n,r))&&ei(this.baseMutations,e.baseMutations,(n,r)=>mm(n,r))}}class jf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=nC;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,ae;function gC(t){switch(t){default:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function O0(t){if(t===void 0)return un("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ae.OK:return x.OK;case Ae.CANCELLED:return x.CANCELLED;case Ae.UNKNOWN:return x.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return x.INTERNAL;case Ae.UNAVAILABLE:return x.UNAVAILABLE;case Ae.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ae.NOT_FOUND:return x.NOT_FOUND;case Ae.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ae.ABORTED:return x.ABORTED;case Ae.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ae.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(ae=Ae||(Ae={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ro}static getOrCreateInstance(){return Ro===null&&(Ro=new zf),Ro}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ro=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,oo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uu(ee.min(),i,C0(),cn(),oe())}}class oo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oo(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class R0{constructor(e,n){this.targetId=e,this.Et=n}}class L0{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ym{constructor(){this.At=0,this.Rt=_m(),this.vt=rt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=oe(),n=oe(),r=oe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new oo(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=_m()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class vC{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=cn(),this.qt=wm(),this.Ut=new Le(ce)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Jc(o))if(i===0){const u=new Q(o.path);this.Qt(r,u,Ye.newNoDocument(u,ee.min()))}else ge(i===1);else{const u=this.Zt(r);u!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=zf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const u=this.Yt(o);if(u){if(s.current&&Jc(u.target)){const l=new Q(u.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ye.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=oe();this.qt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Uu(e,n,this.Ut,this.Lt,r);return this.Lt=cn(),this.qt=wm(),this.Ut=new Le(ce),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new ym,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Le(ce),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new ym),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function wm(){return new $e(Q.comparator)}function _m(){return new $e(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class SC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ra(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EC(t,e){return Ra(t,e.toTimestamp())}function Wt(t){return ge(!!t),ee.fromTimestamp(function(e){const n=Ln(e);return new Re(n.seconds,n.nanos)}(t))}function Ff(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function x0(t){const e=Ee.fromString(t);return ge(B0(e)),e}function td(t,e){return Ff(t.databaseId,e.path)}function zl(t,e){const n=x0(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(j0(n))}function nd(t,e){return Ff(t.databaseId,e)}function kC(t){const e=x0(t);return e.length===4?Ee.emptyPath():j0(e)}function rd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j0(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sm(t,e,n){return{name:td(t,e),fields:n.value.mapValue.fields}}function CC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ge(c===void 0||typeof c=="string"),rt.fromBase64String(c||"")):(ge(c===void 0||c instanceof Uint8Array),rt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?x.UNKNOWN:O0(l.code);return new Y(c,l.message||"")}(o);n=new L0(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zl(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):ee.min(),u=new Et({mapValue:{fields:r.document.fields}}),l=Ye.newFoundDocument(i,s,o,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Qo(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zl(t,r.document),s=r.readTime?Wt(r.readTime):ee.min(),o=Ye.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Qo([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zl(t,r.document),s=r.removedTargetIds||[];n=new Qo([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new mC(i),o=r.targetId;n=new R0(o,s)}}return n}function bC(t,e){let n;if(e instanceof so)n={update:Sm(t,e.key,e.value)};else if(e instanceof xf)n={delete:td(t,e.key)};else if(e instanceof Sr)n={update:Sm(t,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof fC))return J();n={verify:td(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:o._t};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:EC(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function TC(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Wt(r.updateTime):Wt(i);return s.isEqual(ee.min())&&(s=Wt(i)),new lC(s,r.transformResults||[])}(n,e))):[]}function IC(t,e){return{documents:[nd(t,e.path)]}}function AC(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=nd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return F0(Gt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Tr(h.field),direction:NC(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.useProto3Json||$u(c)?c:{value:c}}(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function PC(t){let e=kC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const _=z0(h);return _ instanceof Gt&&m0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(_){return new ss(Ir(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h)));let u=null;n.limit&&(u=function(h){let _;return _=typeof h=="object"?h.value:h,$u(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(h){const _=!!h.before,v=h.values||[];return new Na(v,_)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const _=!h.before,v=h.values||[];return new Na(v,_)}(n.endAt)),Qk(e,i,o,s,u,"F",l,c)}function DC(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function z0(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ir(e.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ir(e.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ir(e.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ir(e.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(e){return Me.create(Ir(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Gt.create(e.compositeFilter.filters.map(n=>z0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function NC(t){return yC[t]}function MC(t){return wC[t]}function OC(t){return _C[t]}function Tr(t){return{fieldPath:t.canonicalString()}}function Ir(t){return Xe.fromServerFormat(t.fieldPath)}function F0(t){return t instanceof Me?function(e){if(e.op==="=="){if(lm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NAN"}};if(um(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NAN"}};if(um(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(e.field),op:MC(e.op),value:e.value}}}(t):t instanceof Gt?function(e){const n=e.getFilters().map(r=>F0(r));return n.length===1?n[0]:{compositeFilter:{op:OC(e.op),filters:n}}}(t):J()}function RC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,i,s=ee.min(),o=ee.min(),u=rt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.se=e}}function $C(t){const e=PC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.He=new jC}addToCollectionParentIndex(e,n){return this.He.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Rn.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class jC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ii(0)}static bn(){return new ii(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&as(r.mutation,i,$t.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=er();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vi();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=er();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=cn();const o=os(),u=os();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Sr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),as(h.mutation,c,h.mutation.getFieldMask(),Re.now())):o.set(c.key,$t.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var _;return u.set(c,new FC(h,(_=o.get(c))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=os();let i=new $e((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||$t.empty();h=u.applyToLocalView(c,h),r.set(l,h);const _=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,_=k0();h.forEach(v=>{if(!s.has(v)){const T=N0(n.get(v),r.get(v));T!==null&&_.set(v,T),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,_))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(er());let u=-1,l=s;return o.next(c=>$.forEach(c,(h,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:u,changes:E0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Vi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Vi();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,u=>{const l=function(c,h){return new xu(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((h,_)=>{s=s.insert(h,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Ye.newInvalidDocument(c)))});let o=Vi();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&as(c.mutation,l,$t.empty(),Re.now()),zu(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Wt(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:$C(r.bundledQuery),readTime:Wt(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new $e(Q.comparator),this.ts=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=er();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=er(),s=n.length+1,o=new Q(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=er(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=er(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=i)););return $.resolve(u)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pC(n,r));let s=this.ts.get(n);s===void 0&&(s=oe(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.es=new Le(je.ns),this.ss=new Le(je.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new je(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new je(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new Q(new Ee([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new Q(new Ee([])),r=new je(n,e),i=new je(n,e+1);let s=oe();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new je(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return Q.comparator(e.key,n.key)||ce(e.ds,n.ds)}static rs(e,n){return ce(e.ds,n.ds)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Le(je.ns)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hC(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this._s=this._s.add(new je(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const u=this.gs(o.ds);s.push(u)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ce);return n.forEach(i=>{const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],u=>{r=r.add(u.ds)})}),$.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new je(new Q(s),0);let u=new Le(ce);return this._s.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.ds)),!0)},o),$.resolve(this.ps(u))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return $.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new je(n,0),i=this._s.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.Ts=e,this.docs=new $e(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(e,n){let r=cn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ye.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cn();const o=n.path,u=new Q(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Nk(Dk(h),r)<=0||(i.has(h.key)||zu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Es(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WC(this)}getSize(e){return $.resolve(this.size)}}class WC extends zC{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.persistence=e,this.As=new wi(n=>Rf(n),Lf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Bf,this.targetCount=0,this.bs=ii.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),$.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new ii(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Sn(n),$.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Mf(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new KC(this),this.indexManager=new xC,this.remoteDocumentCache=function(r){return new qC(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new LC(n),this.xs=new UC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new HC(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new QC(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return $.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class QC extends Ok{constructor(e){super(),this.currentSequenceNumber=e}}class Uf{constructor(e){this.persistence=e,this.$s=new Bf,this.Ms=null}static Fs(e){return new Uf(e)}get Bs(){if(this.Ms)return this.Ms;throw J()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),$.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Bs,r=>{const i=Q.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return $.or([()=>$.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(hm(n))return $.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zc(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.xi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.$i(n,u);return this.Mi(n,c,o,l.readTime)?this.Ni(e,Zc(n,null,"F")):this.Fi(e,c,n,l)}))})))}ki(e,n,r,i){return hm(n)||i.isEqual(ee.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(im()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ed(n)),this.Fi(e,o,n,Pk(i,-1)))})}$i(e,n){let r=new Le(_0(e));return n.forEach((i,s)=>{zu(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return im()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ed(n)),this.xi.getDocumentsMatchingQuery(e,n,Rn.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new $e(ce),this.qi=new wi(s=>Rf(s),Lf),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BC(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function JC(t,e,n,r){return new XC(t,e,n,r)}async function U0(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:u}))})})}function ZC(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){const h=l.batch,_=h.keys();let v=$.resolve();return _.forEach(T=>{v=v.next(()=>c.getEntry(u,T)).next(A=>{const C=l.docVersions.get(T);ge(C!==null),A.version.compareTo(C)<0&&(h.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),c.addEntry(A)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V0(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function eb(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const u=[];e.targetChanges.forEach((h,_)=>{const v=i.get(_);if(!v)return;u.push(n.Ds.removeMatchingKeys(s,h.removedDocuments,_).next(()=>n.Ds.addMatchingKeys(s,h.addedDocuments,_)));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?T=T.withResumeToken(rt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(_,T),function(A,C,y){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(v,T,h)&&u.push(n.Ds.updateTargetData(s,T))});let l=cn(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(tb(s,o,e.documentUpdates).next(h=>{l=h.zi,c=h.ji})),!r.isEqual(ee.min())){const h=n.Ds.getLastRemoteSnapshotVersion(s).next(_=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return $.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Li=i,s))}function tb(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cn();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):K("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:i}})}function nb(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rb(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new sr(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function id(t,e,n){const r=ne(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!io(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function Em(t,e,n){const r=ne(t);let i=ee.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const h=ne(u),_=h.qi.get(c);return _!==void 0?$.resolve(h.Li.get(_)):h.Ds.getTargetData(l,c)}(r,o,ln(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:oe())).next(u=>(ib(r,Zk(e),u),{documents:u,Wi:s})))}function ib(t,e,n){let r=t.Ui.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class km{constructor(){this.activeTargetIds=C0()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sb{constructor(){this.Br=new km,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new km,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function Fl(){return Lo===null?Lo=268435456+Math.round(2147483648*Math.random()):Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class lb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Fl(),u=this.ao(e,n);K("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.ho(l,i,s),this.lo(e,u,l,r).then(c=>(K("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Gc("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",r),c})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=ab[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Fl();return new Promise((o,u)=>{const l=new wk;l.setWithCredentials(!0),l.listenOnce(gk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jl.NO_ERROR:const h=l.getResponseJson();K(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case jl.TIMEOUT:K(Ge,`RPC '${e}' ${s} timed out`),u(new Y(x.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:const _=l.getStatus();if(K(Ge,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const A=function(C){const y=C.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(y)>=0?y:x.UNKNOWN}(T.status);u(new Y(A,T.message))}else u(new Y(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Y(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{K(Ge,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Ge,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}wo(e,n,r){const i=Fl(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pk(),u=mk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new yk({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(Ge,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let _=!1,v=!1;const T=new ub({Wr:C=>{v?K(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(K(Ge,`Opening RPC '${e}' stream ${i} transport.`),h.open(),_=!0),K(Ge,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Hr:()=>h.close()}),A=(C,y,m)=>{C.listen(y,g=>{try{m(g)}catch(b){setTimeout(()=>{throw b},0)}})};return A(h,No.EventType.OPEN,()=>{v||K(Ge,`RPC '${e}' stream ${i} transport opened.`)}),A(h,No.EventType.CLOSE,()=>{v||(v=!0,K(Ge,`RPC '${e}' stream ${i} transport closed`),T.so())}),A(h,No.EventType.ERROR,C=>{v||(v=!0,Gc(Ge,`RPC '${e}' stream ${i} transport errored:`,C),T.so(new Y(x.UNAVAILABLE,"The operation could not be completed")))}),A(h,No.EventType.MESSAGE,C=>{var y;if(!v){const m=C.data[0];ge(!!m);const g=m,b=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(b){K(Ge,`RPC '${e}' stream ${i} received error:`,b);const a=b.status;let f=function(p){const w=Ae[p];if(w!==void 0)return O0(w)}(a),d=b.message;f===void 0&&(f=x.INTERNAL,d="Unknown error status: "+a+" with message "+b.message),v=!0,T.so(new Y(f,d)),h.close()}else K(Ge,`RPC '${e}' stream ${i} received:`,m),T.io(m)}}),A(u,vk.STAT_EVENT,C=>{C.stat===nm.PROXY?K(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===nm.NOPROXY&&K(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.no()},0),T}}function Bl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return new SC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,i,s,o,u,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new H0(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new Y(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cb extends q0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=CC(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Wt(s.readTime):ee.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=rd(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;return o=Jc(u)?{documents:IC(i,u)}:{query:AC(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=$0(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Ra(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=DC(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=rd(this.serializer),n.removeTarget=e,this.Fo(n)}}class db extends q0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=TC(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.Zo(r,n)}return ge(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=rd(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bC(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Y(x.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(x.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(x.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class hb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(un(n),this.ru=!1):K("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Er(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ne(u);l.du.add(4),await ao(l),l.mu.set("Unknown"),l.du.delete(4),await Hu(l)}(this))})}),this.mu=new hb(r,i)}}async function Hu(t){if(Er(t))for(const e of t.wu)await e(!0)}async function ao(t){for(const e of t.wu)await e(!1)}function W0(t,e){const n=ne(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Wf(n)?qf(n):_i(n).No()&&Hf(n,e))}function K0(t,e){const n=ne(t),r=_i(n);n.fu.delete(e),r.No()&&G0(n,e),n.fu.size===0&&(r.No()?r.$o():Er(n)&&n.mu.set("Unknown"))}function Hf(t,e){t.gu.Ot(e.targetId),_i(t).jo(e)}function G0(t,e){t.gu.Ot(e),_i(t).Wo(e)}function qf(t){t.gu=new vC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),_i(t).start(),t.mu.ou()}function Wf(t){return Er(t)&&!_i(t).xo()&&t.fu.size>0}function Er(t){return ne(t).du.size===0}function Q0(t){t.gu=void 0}async function mb(t){t.fu.forEach((e,n)=>{Hf(t,e)})}async function gb(t,e){Q0(t),Wf(t)?(t.mu.au(e),qf(t)):t.mu.set("Unknown")}async function vb(t,e,n){if(t.mu.set("Online"),e instanceof L0&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await La(t,r)}else if(e instanceof Qo?t.gu.Kt(e):e instanceof R0?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ee.min()))try{const r=await V0(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.fu.get(l);c&&i.fu.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const l=i.fu.get(u);if(!l)return;i.fu.set(u,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),G0(i,u);const c=new sr(l.target,u,1,l.sequenceNumber);Hf(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await La(t,r)}}async function La(t,e,n){if(!io(e))throw e;t.du.add(1),await ao(t),t.mu.set("Offline"),n||(n=()=>V0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Hu(t)})}function Y0(t,e){return e().catch(n=>La(t,n,e))}async function qu(t){const e=ne(t),n=$n(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;yb(e);)try{const i=await nb(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,wb(e,i)}catch(i){await La(e,i)}X0(e)&&J0(e)}function yb(t){return Er(t)&&t.lu.length<10}function wb(t,e){t.lu.push(e);const n=$n(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function X0(t){return Er(t)&&!$n(t).xo()&&t.lu.length>0}function J0(t){$n(t).start()}async function _b(t){$n(t).tu()}async function Sb(t){const e=$n(t);for(const n of t.lu)e.Yo(n.mutations)}async function Eb(t,e,n){const r=t.lu.shift(),i=jf.from(r,e,n);await Y0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qu(t)}async function kb(t,e){e&&$n(t).Jo&&await async function(n,r){if(i=r.code,gC(i)&&i!==x.ABORTED){const s=n.lu.shift();$n(n).Oo(),await Y0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await qu(n)}var i}(t,e),X0(t)&&J0(t)}async function bm(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Er(n);n.du.add(3),await ao(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Hu(n)}async function Cb(t,e){const n=ne(t);e?(n.du.delete(2),await Hu(n)):e||(n.du.add(2),await ao(n),n.mu.set("Unknown"))}function _i(t){return t.yu||(t.yu=function(e,n,r){const i=ne(e);return i.nu(),new cb(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:mb.bind(null,t),Zr:gb.bind(null,t),zo:vb.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Wf(t)?qf(t):t.mu.set("Unknown")):(await t.yu.stop(),Q0(t))})),t.yu}function $n(t){return t.pu||(t.pu=function(e,n,r){const i=ne(e);return i.nu(),new db(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:_b.bind(null,t),Zr:kb.bind(null,t),Xo:Sb.bind(null,t),Zo:Eb.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await qu(t)):(await t.pu.stop(),t.lu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new Kf(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gf(t,e){if(un("AsyncQueue",`${e}: ${t}`),io(t))return new Y(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Vi(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Gr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Iu=new $e(Q.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):J():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class si{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new si(e,n,Gr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Eu=void 0,this.listeners=[]}}class Tb{constructor(){this.queries=new wi(e=>w0(e),ju),this.onlineState="Unknown",this.Au=new Set}}async function Ib(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bb),i)try{s.Eu=await n.onListen(r)}catch(o){const u=Gf(o,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Qf(n)}async function Ab(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pb(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.vu(i)&&(r=!0);o.Eu=i}}r&&Qf(n)}function Db(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Qf(t){t.Au.forEach(e=>{e.next()})}class Nb{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new si(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=si.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.key=e}}class e1{constructor(e){this.key=e}}class Mb{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=oe(),this.mutatedKeys=oe(),this.Ku=_0(e),this.Gu=new Gr(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new Tm,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,_)=>{const v=i.get(h),T=zu(this.query,_)?_:null,A=!!v&&this.mutatedKeys.has(v.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let y=!1;v&&T?v.data.isEqual(T.data)?A!==C&&(r.track({type:3,doc:T}),y=!0):this.Wu(v,T)||(r.track({type:2,doc:T}),y=!0,(l&&this.Ku(T,l)>0||c&&this.Ku(T,c)<0)&&(u=!0)):!v&&T?(r.track({type:0,doc:T}),y=!0):v&&!T&&(r.track({type:1,doc:v}),y=!0,(l||c)&&(u=!0)),y&&(T?(o=o.add(T),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Gu:o,ju:r,Mi:u,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((c,h)=>function(_,v){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return T(_)-T(v)}(c.type,h.type)||this.Ku(c.doc,h.doc)),this.Hu(r);const o=n?this.Ju():[],u=this.Uu.size===0&&this.current?1:0,l=u!==this.qu;return this.qu=u,s.length!==0||l?{snapshot:new si(this.query,e.Gu,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Tm,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=oe(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new e1(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new Z0(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=oe();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return si.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class Ob{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rb{constructor(e){this.key=e,this.ec=!1}}class Lb{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new wi(u=>w0(u),ju),this.ic=new Map,this.rc=new Set,this.oc=new $e(Q.comparator),this.uc=new Map,this.cc=new Bf,this.ac={},this.hc=new Map,this.lc=ii.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function $b(t,e){const n=Wb(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await rb(n.localStore,ln(e));n.isPrimaryClient&&W0(n.remoteStore,o);const u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await xb(n,e,r,u==="current",o.resumeToken)}return i}async function xb(t,e,n,r,i){t.dc=(_,v,T)=>async function(A,C,y,m){let g=C.view.zu(y);g.Mi&&(g=await Em(A.localStore,C.query,!1).then(({documents:f})=>C.view.zu(f,g)));const b=m&&m.targetChanges.get(C.targetId),a=C.view.applyChanges(g,A.isPrimaryClient,b);return Am(A,C.targetId,a.Yu),a.snapshot}(t,_,v,T);const s=await Em(t.localStore,e,!0),o=new Mb(e,s.Wi),u=o.zu(s.documents),l=oo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);Am(t,n,c.Yu);const h=new Ob(e,n,o);return t.sc.set(e,h),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function jb(t,e){const n=ne(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!ju(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await id(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),K0(n.remoteStore,r.targetId),sd(n,r.targetId)}).catch(ro)):(sd(n,r.targetId),await id(n.localStore,r.targetId,!0))}async function zb(t,e,n){const r=Kb(t);try{const i=await function(s,o){const u=ne(s),l=Re.now(),c=o.reduce((v,T)=>v.add(T.key),oe());let h,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=cn(),A=oe();return u.Ki.getEntries(v,c).next(C=>{T=C,T.forEach((y,m)=>{m.isValidDocument()||(A=A.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,T)).next(C=>{h=C;const y=[];for(const m of o){const g=dC(m,h.get(m.key).overlayedDocument);g!=null&&y.push(new Sr(m.key,g,f0(g.value.mapValue),xt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,y,o)}).next(C=>{_=C;const y=C.applyToLocalDocumentSet(h,A);return u.documentOverlayCache.saveOverlays(v,C.batchId,y)})}).then(()=>({batchId:_.batchId,changes:E0(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.ac[s.currentUser.toKey()];l||(l=new $e(ce)),l=l.insert(o,u),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await uo(r,i.changes),await qu(r.remoteStore)}catch(i){const s=Gf(i,"Failed to persist write");n.reject(s)}}async function t1(t,e){const n=ne(t);try{const r=await eb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?ge(o.ec):i.removedDocuments.size>0&&(ge(o.ec),o.ec=!1))}),await uo(n,r,e)}catch(r){await ro(r)}}function Im(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const u=o.view.Ru(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let l=!1;u.queries.forEach((c,h)=>{for(const _ of h.listeners)_.Ru(o)&&(l=!0)}),l&&Qf(u)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fb(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new $e(Q.comparator);o=o.insert(s,Ye.newNoDocument(s,ee.min()));const u=oe().add(s),l=new Uu(ee.min(),new Map,new Le(ce),o,u);await t1(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Yf(r)}else await id(r.localStore,e,!1).then(()=>sd(r,e,n)).catch(ro)}async function Bb(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await ZC(n.localStore,e);r1(n,r,null),n1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uo(n,i)}catch(i){await ro(i)}}async function Ub(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(h=>(ge(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);r1(r,e,n),n1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uo(r,i)}catch(i){await ro(i)}}function n1(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function r1(t,e,n){const r=ne(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function sd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||i1(t,r)})}function i1(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(K0(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Yf(t))}function Am(t,e,n){for(const r of n)r instanceof Z0?(t.cc.addReference(r.key,e),Vb(t,r)):r instanceof e1?(K("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||i1(t,r.key)):J()}function Vb(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.rc.add(r),Yf(t))}function Yf(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Q(Ee.fromString(e)),r=t.lc.next();t.uc.set(r,new Rb(n)),t.oc=t.oc.insert(n,r),W0(t.remoteStore,new sr(ln($f(n.path)),r,2,Mf.ct))}}async function uo(t,e,n){const r=ne(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((u,l)=>{o.push(r.dc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=Vf.Di(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.nc.zo(i),await async function(u,l){const c=ne(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(l,_=>$.forEach(_.Vi,v=>c.persistence.referenceDelegate.addReference(h,_.targetId,v)).next(()=>$.forEach(_.Si,v=>c.persistence.referenceDelegate.removeReference(h,_.targetId,v)))))}catch(h){if(!io(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const _=h.targetId;if(!h.fromCache){const v=c.Li.get(_),T=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(T);c.Li=c.Li.insert(_,A)}}}(r.localStore,s))}async function Hb(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await U0(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(u=>{u.reject(new Y(x.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uo(n,r.Qi)}}function qb(t,e){const n=ne(t),r=n.uc.get(e);if(r&&r.ec)return oe().add(r.key);{let i=oe();const s=n.ic.get(e);if(!s)return i;for(const o of s){const u=n.sc.get(o);i=i.unionWith(u.view.Qu)}return i}}function Wb(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fb.bind(null,e),e.nc.zo=Pb.bind(null,e.eventManager),e.nc.wc=Db.bind(null,e.eventManager),e}function Kb(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ub.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JC(this.persistence,new YC,e.initialUser,this.serializer)}createPersistence(e){return new GC(Uf.Fs,this.serializer)}createSharedClientState(e){return new sb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Im(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await Cb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tb}createDatastore(e){const n=Vu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new lb(i));var i;return function(s,o,u,l){return new fb(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>Im(this.syncEngine,u,0),o=Cm.D()?new Cm:new ob,new pb(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,c){const h=new Lb(r,i,s,o,u,l);return c&&(h.fc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);K("RemoteStore","RemoteStore shutting down."),n.du.add(5),await ao(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=u0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ul(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jb(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>bm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bm(e.remoteStore,s)),t._onlineComponents=e}function Xb(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Jb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ul(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Xb(n))throw n;Gc("Error using user provided cache. Falling back to memory cache: "+n),await Ul(t,new Pm)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Ul(t,new Pm);return t._offlineComponents}async function s1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Dm(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Dm(t,new Gb))),t._onlineComponents}function Zb(t){return s1(t).then(e=>e.syncEngine)}async function Nm(t){const e=await s1(t),n=e.eventManager;return n.onListen=$b.bind(null,e.syncEngine),n.onUnlisten=jb.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new Y(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t2(t,e,n,r){if(e===!0&&r===!0)throw new Y(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Om(t){if(!Q.isDocumentKey(t))throw new Y(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(t);throw new Y(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,t2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Sk;switch(n.type){case"firstParty":return new Ck(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Mm.get(e);n&&(K("ComponentProvider","Removing Datastore"),Mm.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class Wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class $s extends Wu{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function od(t,e,...n){if(t=cr(t),arguments.length===1&&(e=u0.A()),e2("doc","path",e),t instanceof o1){const r=Ee.fromString(e,...n);return Om(r),new Ct(t,null,new Q(r))}{if(!(t instanceof Ct||t instanceof $s))throw new Y(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return Om(r),new Ct(t.firestore,t instanceof $s?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new H0(this,"async_queue_retry"),this.qc=()=>{const n=Bl();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Bl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Bl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ir;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!io(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Kf.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&J()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function Lm(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class oi extends o1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()}}function a1(t){return t._firestoreClient||u1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u1(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,c){return new xk(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Yb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(rt.fromBase64String(e))}catch(n){throw new Y(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class i2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new so(e,this.data,n,this.fieldTransforms)}}function c1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class eh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return $a(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(c1(this.Yc)&&r2.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class s2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vu(e)}ua(e,n,r,i=!1){return new eh({Yc:e,methodName:n,oa:r,path:Xe.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d1(t){const e=t._freezeSettings(),n=Vu(t._databaseId);return new s2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f1(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);g1("Data must be an object, but it was:",o,r);const u=p1(r,o);let l,c;if(s.merge)l=new $t(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const _ of s.mergeFields){const v=o2(e,_,n);if(!o.contains(v))throw new Y(x.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);u2(h,v)||h.push(v)}l=new $t(h),c=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,c=o.fieldTransforms;return new i2(new Et(u),l,c)}function h1(t,e){if(m1(t=cr(t)))return g1("Unsupported field value:",e,t),p1(t,e);if(t instanceof l1)return function(n,r){if(!c1(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=h1(o,r.sa(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=cr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sC(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Re.fromDate(n);return{timestampValue:Ra(r.serializer,i)}}if(n instanceof Re){const i=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ra(r.serializer,i)}}if(n instanceof Zf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ai)return{bytesValue:$0(r.serializer,n._byteString)};if(n instanceof Ct){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ff(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Xf(n)}`)}(t,e)}function p1(t,e){const n={};return l0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,i)=>{const s=h1(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Zf||t instanceof ai||t instanceof Ct||t instanceof l1)}function g1(t,e,n){if(!m1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Xf(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function o2(t,e,n){if((e=cr(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return v1(t,e);throw $a("Field path arguments must be of type string or ",t,!1,void 0,n)}const a2=new RegExp("[~\\*/\\[\\]]");function v1(t,e,n){if(e.search(a2)>=0)throw $a(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw $a(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $a(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(x.INVALID_ARGUMENT,u+t+l)}function u2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l2 extends y1{data(){return super.data()}}function w1(t,e){return typeof e=="string"?v1(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d2{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){const r={};return yi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zf(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ns(e));default:return null}}convertTimestamp(e){const n=Ln(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ge(B0(r));const i=new Ms(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S1 extends y1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yo extends S1{data(e={}){return super.data(e)}}class f2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yo(this._firestore,this._userDataWriter,r.key,r,new Hi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new Yo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Hi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Yo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Hi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:h2(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class E1 extends d2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function p2(t,e,n){t=or(t,Ct);const r=or(t.firestore,oi),i=_1(t.converter,e,n);return th(r,[f1(d1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xt.none())])}function m2(t){return th(or(t.firestore,oi),[new xf(t._key,xt.none())])}function g2(t,e){const n=or(t.firestore,oi),r=od(t),i=_1(t.converter,e);return th(n,[f1(d1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function v2(t,...e){var n,r,i;t=cr(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Lm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Lm(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let l,c,h;if(t instanceof Ct)c=or(t.firestore,oi),h=$f(t._key.path),l={next:_=>{e[o]&&e[o](y2(c,t,_))},error:e[o+1],complete:e[o+2]};else{const _=or(t,Wu);c=or(_.firestore,oi),h=_._query;const v=new E1(c);l={next:T=>{e[o]&&e[o](new f2(c,v,_,T))},error:e[o+1],complete:e[o+2]},c2(t._query)}return function(_,v,T,A){const C=new Qb(A),y=new Nb(v,C,T);return _.asyncQueue.enqueueAndForget(async()=>Ib(await Nm(_),y)),()=>{C.yc(),_.asyncQueue.enqueueAndForget(async()=>Ab(await Nm(_),y))}}(a1(c),h,u,l)}function th(t,e){return function(n,r){const i=new ir;return n.asyncQueue.enqueueAndForget(async()=>zb(await Zb(n),r,i)),i.promise}(a1(t),e)}function y2(t,e,n){const r=n.docs.get(e._key),i=new E1(t);return new S1(t,i,e._key,r,new Hi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){vi=n})(oE),On(new on("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new oi(new Ek(n.getProvider("auth-internal")),new Tk(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qt(rm,"3.10.1",t),qt(rm,"3.10.1","esm2017")})();var w2="firebase",_2="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(w2,_2,"app");const k1="@firebase/installations",nh="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e4,b1=`w:${nh}`,T1="FIS_v2",S2="https://firebaseinstallations.googleapis.com/v1",E2=60*60*1e3,k2="installations",C2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new vu(k2,C2,b2);function I1(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1({projectId:t}){return`${S2}/projects/${t}/installations`}function P1(t){return{token:t.token,requestStatus:2,expiresIn:I2(t.expiresIn),creationTime:Date.now()}}async function D1(t,e){const r=(await e.json()).error;return pr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function N1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function T2(t,{refreshToken:e}){const n=N1(t);return n.append("Authorization",A2(e)),n}async function M1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function I2(t){return Number(t.replace("s","000"))}function A2(t){return`${T1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=A1(t),i=N1(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:T1,appId:t.appId,sdkVersion:b1},u={method:"POST",headers:i,body:JSON.stringify(o)},l=await M1(()=>fetch(r,u));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:P1(c.authToken)}}else throw await D1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^[cdef][\w-]{21}$/,ad="";function M2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O2(t);return N2.test(n)?n:ad}catch{return ad}}function O2(t){return D2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;function L1(t,e){const n=Ku(t);$1(n,e),R2(n,e)}function $1(t,e){const n=R1.get(t);if(n)for(const r of n)r(e)}function R2(t,e){const n=L2();n&&n.postMessage({key:t,fid:e}),$2()}let tr=null;function L2(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=t=>{$1(t.data.key,t.data.fid)}),tr}function $2(){R1.size===0&&tr&&(tr.close(),tr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-installations-database",j2=1,mr="firebase-installations-store";let Vl=null;function rh(){return Vl||(Vl=ry(x2,j2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mr)}}})),Vl}async function xa(t,e){const n=Ku(t),i=(await rh()).transaction(mr,"readwrite"),s=i.objectStore(mr),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&L1(t,e.fid),e}async function x1(t){const e=Ku(t),r=(await rh()).transaction(mr,"readwrite");await r.objectStore(mr).delete(e),await r.done}async function Gu(t,e){const n=Ku(t),i=(await rh()).transaction(mr,"readwrite"),s=i.objectStore(mr),o=await s.get(n),u=e(o);return u===void 0?await s.delete(n):await s.put(u,n),await i.done,u&&(!o||o.fid!==u.fid)&&L1(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){let e;const n=await Gu(t.appConfig,r=>{const i=z2(r),s=F2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ad?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function z2(t){const e=t||{fid:M2(),registrationStatus:0};return j1(e)}function F2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=B2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:U2(t)}:{installationEntry:e}}async function B2(t,e){try{const n=await P2(t,e);return xa(t.appConfig,n)}catch(n){throw I1(n)&&n.customData.serverCode===409?await x1(t.appConfig):await xa(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function U2(t){let e=await $m(t.appConfig);for(;e.registrationStatus===1;)await O1(100),e=await $m(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ih(t);return r||n}return e}function $m(t){return Gu(t,e=>{if(!e)throw pr.create("installation-not-found");return j1(e)})}function j1(t){return V2(t)?{fid:t.fid,registrationStatus:0}:t}function V2(t){return t.registrationStatus===1&&t.registrationTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2({appConfig:t,heartbeatServiceProvider:e},n){const r=q2(t,n),i=T2(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:b1,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(o)},l=await M1(()=>fetch(r,u));if(l.ok){const c=await l.json();return P1(c)}else throw await D1("Generate Auth Token",l)}function q2(t,{fid:e}){return`${A1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e=!1){let n;const r=await Gu(t.appConfig,s=>{if(!z1(s))throw pr.create("not-registered");const o=s.authToken;if(!e&&G2(o))return s;if(o.requestStatus===1)return n=W2(t,e),s;{if(!navigator.onLine)throw pr.create("app-offline");const u=Y2(s);return n=K2(t,u),u}});return n?await n:r.authToken}async function W2(t,e){let n=await xm(t.appConfig);for(;n.authToken.requestStatus===1;)await O1(100),n=await xm(t.appConfig);const r=n.authToken;return r.requestStatus===0?sh(t,e):r}function xm(t){return Gu(t,e=>{if(!z1(e))throw pr.create("not-registered");const n=e.authToken;return X2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function K2(t,e){try{const n=await H2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xa(t.appConfig,r),n}catch(n){if(I1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xa(t.appConfig,r)}throw n}}function z1(t){return t!==void 0&&t.registrationStatus===2}function G2(t){return t.requestStatus===2&&!Q2(t)}function Q2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+E2}function Y2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function X2(t){return t.requestStatus===1&&t.requestTime+C1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t){const e=t,{installationEntry:n,registrationPromise:r}=await ih(e);return r?r.catch(console.error):sh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e=!1){const n=t;return await eT(n),(await sh(n,e)).token}async function eT(t){const{registrationPromise:e}=await ih(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){if(!t||!t.options)throw Hl("App Configuration");if(!t.name)throw Hl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Hl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Hl(t){return pr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="installations",nT="installations-internal",rT=t=>{const e=t.getProvider("app").getImmediate(),n=tT(e),r=yu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iT=t=>{const e=t.getProvider("app").getImmediate(),n=yu(e,F1).getImmediate();return{getId:()=>J2(n),getToken:i=>Z2(n,i)}};function sT(){On(new on(F1,rT,"PUBLIC")),On(new on(nT,iT,"PRIVATE"))}sT();qt(k1,nh);qt(k1,nh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="analytics",oT="firebase_id",aT="origin",uT=60*1e3,lT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft=new lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gt=new vu("analytics","Analytics",cT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){if(!t.startsWith(oh)){const e=gt.create("invalid-gtag-resource",{gtagURL:t});return ft.warn(e.message),""}return t}function B1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fT(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hT(t,e){const n=fT("firebase-js-sdk-policy",{createScriptURL:dT}),r=document.createElement("script"),i=`${oh}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function pT(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function mT(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await B1(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(u){ft.error(u)}t("config",i,s)}async function gT(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const u=await B1(n);for(const l of o){const c=u.find(_=>_.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){ft.error(s)}}function vT(t,e,n,r){async function i(s,o,u){try{s==="event"?await gT(t,e,n,o,u):s==="config"?await mT(t,e,n,r,o,u):s==="consent"?t("consent","update",u):t("set",o)}catch(l){ft.error(l)}}return i}function yT(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=vT(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function wT(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(oh)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=30,ST=1e3;class ET{constructor(e={},n=ST){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const U1=new ET;function kT(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function CT(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:kT(r)},s=lT.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let u="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(u=l.error.message)}catch{}throw gt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function bT(t,e=U1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw gt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new AT;return setTimeout(async()=>{u.abort()},uT),V1({appId:r,apiKey:i,measurementId:s},o,u,e)}async function V1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=U1){var s;const{appId:o,measurementId:u}=t;try{await TT(r,e)}catch(l){if(u)return ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:u};throw l}try{const l=await CT(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!IT(c)){if(i.deleteThrottleMetadata(o),u)return ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:u};throw l}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?$p(n,i.intervalMillis,_T):$p(n,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,_),ft.debug(`Calling attemptFetch again in ${h} millis`),V1(t,_,r,i)}}function TT(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function IT(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class AT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function PT(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(){if(Zv())try{await ey()}catch(t){return ft.warn(gt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ft.warn(gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NT(t,e,n,r,i,s,o){var u;const l=bT(t);l.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>ft.error(T)),e.push(l);const c=DT().then(T=>{if(T)return r.getId()}),[h,_]=await Promise.all([l,c]);wT(s)||hT(s,h.measurementId),i("js",new Date);const v=(u=o==null?void 0:o.config)!==null&&u!==void 0?u:{};return v[aT]="firebase",v.update=!0,_!=null&&(v[oT]=_),i("config",h.measurementId,v),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.app=e}_delete(){return delete us[this.app.options.appId],Promise.resolve()}}let us={},jm=[];const zm={};let ql="dataLayer",OT="gtag",Fm,H1,Bm=!1;function RT(){const t=[];if(nS()&&t.push("This is a browser extension environment."),rS()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gt.create("invalid-analytics-context",{errorInfo:e});ft.warn(n.message)}}function LT(t,e,n){RT();const r=t.options.appId;if(!r)throw gt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gt.create("no-api-key");if(us[r]!=null)throw gt.create("already-exists",{id:r});if(!Bm){pT(ql);const{wrappedGtag:s,gtagCore:o}=yT(us,jm,zm,ql,OT);H1=s,Fm=o,Bm=!0}return us[r]=NT(t,jm,zm,e,Fm,ql,n),new MT(t)}function $T(t=aE()){t=cr(t);const e=yu(t,ja);return e.isInitialized()?e.getImmediate():xT(t)}function xT(t,e={}){const n=yu(t,ja);if(n.isInitialized()){const i=n.getImmediate();if(_a(e,n.getOptions()))return i;throw gt.create("already-initialized")}return n.initialize({options:e})}function jT(t,e,n,r){t=cr(t),PT(H1,us[t.app.options.appId],e,n,r).catch(i=>ft.error(i))}const Um="@firebase/analytics",Vm="0.9.5";function zT(){On(new on(ja,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return LT(r,i,n)},"PUBLIC")),On(new on("analytics-internal",t,"PRIVATE")),qt(Um,Vm),qt(Um,Vm,"esm2017");function t(e){try{const n=e.getProvider(ja).getImmediate();return{logEvent:(r,i,s)=>jT(n,r,i,s)}}catch(n){throw gt.create("interop-component-reg-failed",{reason:n})}}}zT();const FT={apiKey:"AIzaSyA1vXyPYKrDFFIWrkiMKvuNy19m4PCrjTQ",authDomain:"react-note-f9446.firebaseapp.com",projectId:"react-note-f9446",storageBucket:"react-note-f9446.appspot.com",messagingSenderId:"315639826573",appId:"1:315639826573:web:c7b1e8dbf27eecc214bac4",measurementId:"G-Y8MFEHEY8B"},q1=iy(FT);$T(q1);const ud=getFirestore(q1),Hm=collection(ud,"notes");function BT(){const[t,e]=Wn.useState([]),[n,r]=Wn.useState(""),i=t.find(l=>l.id===n)||t[0];t.sort(),Wn.useEffect(()=>v2(Hm,function(c){const h=c.docs.map(_=>({..._.data(),id:_.id}));e(h)}),[]),Wn.useEffect(()=>{var l;n||r((l=t[0])==null?void 0:l.id)},[t]);async function s(){const l={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},c=await g2(Hm,l);r(c.id)}async function o(l){const c=od(ud,"notes",n);await p2(c,{body:l,updatedAt:Date.now()},{merge:!0})}async function u(l){const c=od(ud,"notes",l);await m2(c)}return Ne.jsx("main",{children:t.length>0?Ne.jsxs(uf,{sizes:[30,70],direction:"horizontal",className:"split",children:[Ne.jsx(r3,{notes:t,currentNote:i,setCurrentNoteId:r,newNote:s,deleteNote:u}),Ne.jsx(L8,{currentNote:i,updateNote:o})]}):Ne.jsxs("div",{className:"no-notes",children:[Ne.jsx("h1",{children:"You have no notes"}),Ne.jsx("button",{className:"first-note",onClick:s,children:"Create one now"})]})})}n3.render(Ne.jsx(BT,{}),document.getElementById("root"));
